(window.webpackJsonp=window.webpackJsonp||[]).push([["3RIN"],{"3RIN":function(e,a,i){"use strict";i.r(a);i("91GP");var t=i("lX1r"),n=i("uTIz"),s=(i("z0WU"),{name:"dialog-option",props:["initData","visible"],data:function(){return{dialogTopLoading:!1,isVisible:!1,title:"",searchConfig:{hideSearchSwitch:!1},searchList:[{label:"收款单号",type:"input",ruleType:"string",mapKey:"code",configs:{},placeholder:"请输入收款单号"},{label:"客户名称",type:"input",ruleType:"string",mapKey:"name",configs:{},placeholder:"请输入客户名称"}],guid:"",currentpage:1,maxLayer:2,expandTableApiList:["listPageSaleReceives","listPageSaleReceiveDetails"],expandTableApiParams:[{},{}],tableData:{},initParams:{},updateViewData:{},searchObj:{},childrenData:{},customColumn:{1:[],2:[]},tableSets:{1:{showCheckBox:!1,showIndex:!0,expandOne:!1},2:{showCheckBox:!0,showIndex:!1,isExpands:!1,isSortable:!1,isSingle:!1}},temp:{},tempQuery:{},tempLable:{},selectList:[],pageData:null,pageNo:1,openDialogName:"",showDialog:!1,visibleState:!1,dialogData:{title:"",temp:null,tempLable:null}}},components:{expandTable:t.a,searchBar:n.a},beforeCreate:function(){},created:function(){this.temp=this.initData.temp,this.initExpandTable()},beforeMount:function(){},mounted:function(){this.isVisible=this.visible},beforeUpdate:function(){},updated:function(){},methods:{dialogClose:function(){this.$emit("close-dialog",{resState:"ok"})},closeDialog:function(e){this.showDialog=!1,"ok"===e.resState&&this.refreshTable()},initExpandTable:function(){var e=this;this.$api[this.expandTableApiList[0]](this.setParams(1,this.initParams,this.currentpage)).then(function(a){e.tableData={row:null,layer:1,res:a,customColumn:e.customColumn},e.$loading().close()}).catch(function(a){console.log(a),e.$loading().close()})},findChildByRow:function(e,a,i,t,n){var s=this;this.$api[this.expandTableApiList[a-1]](this.setParams(a,e,n)).then(function(i){s.childrenData={row:e,layer:a,res:i,customColumn:s.customColumn}}).catch(function(e){console.log(e)})},setParams:function(e,a,i){if(e>1){var t=this.expandTableApiParams[e-1];for(var n in t)t.hasOwnProperty(n)&&(t[n]=a[n]||"");return Object.assign({},t,this.searchObj,{pageNo:i},{parentId:a.id})}return Object.assign({},a,this.searchObj,{pageNo:i},{customerId:this.temp.id},{orderStr:" receive.cdate desc "})},sendGuid:function(e){this.guid=e},searchMap:function(e){console.log(e),this.searchObj=e,this.initExpandTable()},databridge:function(e){this.selectList=e}},computed:{dialogName:function(){return this.openDialogName}},watch:{pageNo:function(){}}}),o=i("KHd+"),l=Object(o.a)(s,function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.initData.title?e.initData.title:"编辑",visible:e.isVisible,"append-to-body":"",width:"1300px"},on:{"update:visible":function(a){e.isVisible=a},close:e.dialogClose}},[e.showDialog?i(e.dialogName,{tag:"component",attrs:{initData:e.dialogData,visible:e.visibleState},on:{"close-dialog":e.closeDialog}}):e._e(),e._v(" "),e.searchList.length?i("search-bar",{attrs:{searchList:e.searchList,searchConfig:e.searchConfig},on:{"search-map":e.searchMap,"send-guid":e.sendGuid}}):e._e(),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogTopLoading,expression:"dialogTopLoading"}],staticStyle:{height:"500px"}},[i("el-col",{staticStyle:{height:"100%"},attrs:{span:24}},[i("div",{staticStyle:{height:"calc(100% - 60px)","box-sizing":"border-box",padding:"7px"}},[i("expand-table",{attrs:{initData:e.tableData,childrenData:e.childrenData,configs:e.tableSets,currentpage:e.currentpage,apiObj:{apiName:e.expandTableApiList,apiParams:e.expandTableApiParams},updateViewData:e.updateViewData},on:{"update:currentpage":function(a){e.currentpage=a},databridge:e.databridge,"send-children-row":e.findChildByRow}})],1),e._v(" "),i("div",{staticStyle:{"text-align":"center","padding-bottom":"10px"}},[i("el-button",{on:{click:function(a){e.isVisible=!1}}},[e._v("关闭")])],1)])],1)],1)},[],!1,null,null,null);l.options.__file="dialogReceiptList.vue";a.default=l.exports}}]);