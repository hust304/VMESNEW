(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c4d0"],{ENE5:function(t,e,i){"use strict";var s=i("VVSe");i.n(s).a},LXPs:function(t,e,i){"use strict";i.r(e);i("f3/d"),i("xfY5");var s=i("z0WU"),l=(i("91GP"),i("jUE0"),"@@wavesContext");function o(t,e){function i(i){var s=Object.assign({},e.value),l=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},s),o=l.ele;if(o){o.style.position="relative",o.style.overflow="hidden";var n=o.getBoundingClientRect(),r=o.querySelector(".waves-ripple");switch(r?r.className="waves-ripple":((r=document.createElement("span")).className="waves-ripple",r.style.height=r.style.width=Math.max(n.width,n.height)+"px",o.appendChild(r)),l.type){case"center":r.style.top=n.height/2-r.offsetHeight/2+"px",r.style.left=n.width/2-r.offsetWidth/2+"px";break;default:r.style.top=(i.pageY-n.top-r.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",r.style.left=(i.pageX-n.left-r.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return r.style.backgroundColor=l.color,r.className="waves-ripple z-active",!1}}return t[l]?t[l].removeHandle=i:t[l]={removeHandle:i},i}var n={bind:function(t,e){t.addEventListener("click",o(t,e),!1)},update:function(t,e){t.removeEventListener("click",t[l].removeHandle,!1),t.addEventListener("click",o(t,e),!1)},unbind:function(t){t.removeEventListener("click",t[l].removeHandle,!1),t[l]=null,delete t[l]}},r=function(t){t.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(r)),n.install=r;var c={name:"equipment-formula",props:{width:[String,Number],customSign:{type:Array,default:function(){return[]}},renameKey:{type:Object,default:function(){return null}},apiObj:{type:Object,default:function(){return null}}},directives:{waves:n},data:function(){return{testList:[{id:1,name:"转速1",code:"100"},{id:1,name:"转速2",code:"100"},{id:1,name:"转速3",code:"100"},{id:1,name:"转速4",code:"100"},{id:1,name:"转速5",code:"100"},{id:1,name:"转速6",code:"100"},{id:1,name:"转速7",code:"100"},{id:1,name:"转速8",code:"100"},{id:1,name:"转速9",code:"100"},{id:1,name:"转速10",code:"100"},{id:1,name:"转速11",code:"100"}],baseSign:["7","8","9","+","4","5","6","-","1","2","3","*","","0",".","/","","退格","清空","="],boldContent:["7","8","9","4","5","6","1","2","3","0","."],boldSign:["+","-","*","/","="],resultStr:"",scrollBarWidth:0,leftBtnsBoxHeight:0,showLeftArrow:!1,leftScrollTop:0,maxLeftScrollTop:0,scrollSwitch:!0,animateTimer:"",arrowState:!0,isClick:!0,clickTimer:"",resultObj:null}},components:{},computed:{setWidth:function(){return this.width?"number"==typeof this.width?"".concat(this.width,"px"):this.width:"600px"},setCustomSign:function(){return this.customSign||[]},leftViewHeight:function(){return this.testList.length?45*this.testList.length>this.leftBtnsBoxHeight-45?(this.showLeftArrow=!0,this.maxLeftScrollTop=45*this.testList.length-(this.leftBtnsBoxHeight-45),this.leftBtnsBoxHeight-45+"px"):(this.showLeftArrow=!1,"100%"):"100%"},setIcon:function(){return this.arrowState?"arrowdown":"arrowup"},adapted:function(){return this.renameKey||{name:"name",id:"id",code:"code"}}},watch:{leftScrollTop:function(){var t=this;if(this.scrollSwitch&&this.isClick){var e;this.scrollSwitch=!1,"arrowdown"===this.setIcon?this.animateTimer=setInterval(function(i){e=t.$refs.leftView.scrollTop,t.leftScrollTop>e+10?t.$refs.leftView.scrollTop=e+10:(t.$refs.leftView.scrollTop=t.leftScrollTop,clearInterval(t.animateTimer),t.scrollSwitch=!0,t.$refs.leftView.scrollTop>=t.maxLeftScrollTop&&(t.arrowState=!1))},16.667):this.animateTimer=setInterval(function(i){e=t.$refs.leftView.scrollTop,t.leftScrollTop<e-10?t.$refs.leftView.scrollTop=e-10:(t.$refs.leftView.scrollTop=t.leftScrollTop,clearInterval(t.animateTimer),t.scrollSwitch=!0,t.arrowState=!0)},16.667)}}},methods:{setContentStyle:function(t){return this.boldContent.indexOf(t)>-1},setSignStyle:function(t){return this.boldSign.indexOf(t)>-1},setTextStyle:function(t){return"清空"===t||"退格"===t},selectVal:function(t){t&&("清空"===t?this.resultStr="":"退格"===t?this.resultStr=this.resultStr.slice(0,-1):this.resultStr+="="===t?" ".concat(t," "):t)},selectObj:function(t){this.resultStr="".concat(t[this.adapted.name]," = "),this.resultObj=t},changeScroll:function(){if(this.isClick=!0,console.log(this.$refs.leftView.scrollTop),this.scrollSwitch){var t=this.maxLeftScrollTop-this.$refs.leftView.scrollTop;t>0?this.leftScrollTop+=t>180?180:t:this.leftScrollTop=0}},leftViewScroll:function(t){var e=this;this.scrollSwitch&&(this.isClick=!1,this.leftScrollTop=t.target.scrollTop,t.target.scrollTop>=this.maxLeftScrollTop?this.arrowState=!1:this.arrowState=!0,clearTimeout(this.clickTimer),this.clickTimer=setTimeout(function(t){e.isClick=!0},100))},scrollAnimate:function(t){},getData:function(){this.resultStr&&this.resultObj?this.$emit("databridge",{formulaStr:this.resultStr,resultObj:this.resultObj}):this.$message.error("请先录入公式")},httpRequests:function(){this.$api[this.apiObj.apiName](this.apiObj.params).then(function(t){}).catch(function(t){})}},created:function(){this.scrollBarWidth=Object(s.n)(),this.apiObj&&this.httpRequests()},mounted:function(){this.leftScrollTop=0,this.leftBtnsBoxHeight=this.$el.querySelector("#leftBtnsBox").offsetHeight},beforeDestroy:function(){}},a=(i("ENE5"),i("KHd+")),u=Object(a.a)(c,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"equipmentFormula",style:{width:this.setWidth}},[i("div",{staticClass:"leftView"},[i("div",{staticStyle:{position:"absolute",top:"0",left:"0",bottom:"0"},style:{right:"-"+t.scrollBarWidth+"px"}},[i("div",{staticStyle:{height:"100%",position:"relative"},attrs:{id:"leftBtnsBox"}},[i("div",{ref:"leftView",staticStyle:{overflow:"auto"},style:{height:t.leftViewHeight},on:{scroll:function(e){t.leftViewScroll(e)}}},[i("div",t._l(t.testList,function(e,s){return i("div",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"leftBtnViews leftBtns",on:{click:function(i){t.selectObj(e)}}},[i("div",{staticClass:"leftBtnBoxs",domProps:{textContent:t._s(e[t.adapted.name])}})])}))]),t._v(" "),t.showLeftArrow?i("div",{staticClass:"leftArrowBox"},[i("div",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"leftArrowView leftBtns",style:{width:"calc(100% - "+t.scrollBarWidth+"px)"},on:{click:t.changeScroll}},[i("svg-icon",{attrs:{"icon-class":t.setIcon}})],1)]):t._e()])])]),t._v(" "),i("div",{staticClass:"rightView"},[t.setCustomSign.length?i("div",{staticClass:"customSignView"}):t._e(),t._v(" "),i("div",{staticClass:"baseSignView"},t._l(t.baseSign,function(e,s){return i("div",{staticClass:"signView"},[e?[i("div",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"signBox isDrop",class:{boldContent:t.setContentStyle(e),boldSign:t.setSignStyle(e),textBtn:t.setTextStyle(e)},on:{click:function(i){t.selectVal(e)}}},[i("div",{staticStyle:{cursor:"default"},domProps:{textContent:t._s(e)}})])]:[i("div",{staticClass:"signBox noDrop"})]],2)})),t._v(" "),i("div",{staticClass:"resultView",domProps:{textContent:t._s(t.resultStr)}})])])},[],!1,null,"d9092138",null);u.options.__file="index.vue";var f={name:"equipmentFormulaView",components:{equipmentFormula:u.exports}},d=(i("yU1Y"),Object(a.a)(f,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"equipmentFormulaView"},[e("equipment-formula",{attrs:{width:"650px"}})],1)},[],!1,null,"776d231e",null));d.options.__file="index.vue";e.default=d.exports},VVSe:function(t,e,i){},WjFD:function(t,e,i){},jUE0:function(t,e,i){},yU1Y:function(t,e,i){"use strict";var s=i("WjFD");i.n(s).a}}]);