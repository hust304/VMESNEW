(window.webpackJsonp=window.webpackJsonp||[]).push([["DQs1"],{DQs1:function(i,e,t){"use strict";t.r(e);t("f3/d");var a=t("WIyV"),o=t("MPAK"),l=t("Ikq8"),s={components:{customBaseTable:a.a},props:["initData","visible"],data:function(){return{formData:{assistProductId:"",assistProductName:"",supplierId:"",supplierName:"",price:"",lossRatio:""},rules:{assistProductName:[{required:!0,message:"请选择外协件",trigger:"change"}],supplierName:[{required:!0,message:"请选择供应商",trigger:"change"}],price:[{required:!0,trigger:"change",validator:function(i,e,t){Object(o.isPriceByValueSystem)(e)?(0==e&&t(new Error("请输入大于零的正数支持4位小数！")),t()):t(new Error("请输入大于零的正数支持4位小数！"))}}],lossRatio:[{required:!0,trigger:"change",validator:function(i,e,t){Object(o.isNumberByValueSystem)(e)?(0==e&&t(new Error("请输入大于零的正数支持2位小数！")),t()):t(new Error("请输入大于零的正数支持2位小数！"))}}]},openDialogName:"",showDialog:!1,inLinVisible:!1,dialogData:{title:"",data:null},dialogLoading:!0,isVisible:!1,inDialog:!0,AssistProductDialog:{showDialog:!1,visible:!1,dialog:{data:{isSingle:!0,width:"800px",title:"选择外协件"},dialogName:"dialogAssistProductOption"}},SupplierDialog:{showDialog:!1,visible:!1,dialog:{data:{isSingle:!0,width:"500px",title:"选择供应商",tableUrl:"/base/customer/listPageCustomers",tableParm:{isdisable:"1",genre:"49c0a7ebcb4c4175bd5195837a6a9a13",fieldCode:"name"},temp:{}},dialogName:"dialogOptionNotCode"}}}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){this.dialogLoading=!1,this.isVisible=this.visible},beforeUpdate:function(){},updated:function(){},methods:{assistProductSelect:function(i){i[0]&&(this.formData.assistProductId=i[0].id,this.formData.assistProductName=i[0].productName)},supplierSelect:function(i){i[0]&&(this.formData.supplierId=i[0].id,this.formData.supplierName=i[0].name)},save:function(){var i=this;this.$refs.submitForm.validate(function(e){e&&(i.dialogLoading=!0,Object(l.addAssistSupplier)(i.formData).then(function(e){i.dialogLoading=!1,0===e.code&&(i.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3}),i.isVisible=!1,i.dialogClose({resState:"ok"}))}).catch(function(e){i.dialogLoading=!1}))})},dialogOpen:function(){var i=this;this.$nextTick(function(){i.$refs.submitForm.clearValidate()})},dialogClose:function(i){this.$emit("close-dialog",i||{})},closeDialog:function(i){}},computed:{fullscreen:function(){return!!this.initData.fullscreen},onModal:function(){return!!this.initData["close-on-click-modal"]},onEscape:function(){return!!this.initData["close-on-press-escape"]},dialogName:function(){return this.openDialogName}},watch:{}},r=t("KHd+"),n=Object(r.a)(s,function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:i.initData.title?i.initData.title:"",visible:i.isVisible,"append-to-body":i.inDialog,"close-on-click-modal":i.onModal,"close-on-press-escape":i.onEscape,fullscreen:i.fullscreen,width:"350px"},on:{"update:visible":function(e){i.isVisible=e},open:i.dialogOpen,close:i.dialogClose}},[i.showDialog?t(i.dialogName,{tag:"component",attrs:{initData:i.dialogData,visible:i.inLinVisible},on:{"close-dialog":i.closeDialog}}):i._e(),i._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:i.dialogLoading,expression:"dialogLoading"}],staticStyle:{padding:"20px 20px 0px 20px"}},[t("el-form",{ref:"submitForm",attrs:{rules:i.rules,inline:!0,model:i.formData,"label-position":"right","label-width":"80px"}},[t("el-row",[t("el-col",[t("el-form-item",{attrs:{label:"外协件:",prop:"assistProductName"}},[t("base-input-option",{staticStyle:{width:"200px"},attrs:{dialog:i.AssistProductDialog.dialog},on:{callback:i.assistProductSelect},model:{value:i.formData.assistProductName,callback:function(e){i.$set(i.formData,"assistProductName",e)},expression:"formData.assistProductName"}})],1)],1)],1),i._v(" "),t("el-row",[t("el-col",[t("el-form-item",{attrs:{label:"供应商:",prop:"supplierName"}},[t("base-input-option",{staticStyle:{width:"200px"},attrs:{dialog:i.SupplierDialog.dialog},on:{callback:i.supplierSelect},model:{value:i.formData.supplierName,callback:function(e){i.$set(i.formData,"supplierName",e)},expression:"formData.supplierName"}})],1)],1)],1),i._v(" "),t("el-row",[t("el-col",[t("el-form-item",{attrs:{label:"单价:",prop:"price"}},[t("el-input",{staticStyle:{width:"200px"},model:{value:i.formData.price,callback:function(e){i.$set(i.formData,"price",e)},expression:"formData.price"}})],1)],1)],1),i._v(" "),t("el-row",[t("el-col",[t("el-form-item",{attrs:{label:"损耗率:",prop:"lossRatio"}},[t("el-input",{staticStyle:{width:"200px"},model:{value:i.formData.lossRatio,callback:function(e){i.$set(i.formData,"lossRatio",e)},expression:"formData.lossRatio"}})],1)],1)],1)],1),i._v(" "),t("div",{staticStyle:{"text-align":"center",padding:"10px 0px 20px 0px"}},[t("el-button",{attrs:{type:"primary"},on:{click:i.save}},[i._v("保存")]),i._v(" "),t("el-button",{on:{click:function(e){i.isVisible=!1}}},[i._v("关闭")])],1)],1)],1)},[],!1,null,null,null);n.options.__file="dialogAdd.vue";e.default=n.exports}}]);