(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1ee0"],{FYU4:function(t,e,a){"use strict";var s=a("ZkDz");a.n(s).a},TB3a:function(t,e,a){"use strict";a("a1Th"),a("SRfc"),a("KKXr");e.a={timeStamp:function(t){if("string"==typeof t){var e=t.split(" ");if(1===e.length){var a=e[0].match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/);return null===a?(new Date).getTime():new Date(a[1],a[3]-1,a[4]).getTime()}var s=e[0].match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/),i=e[1].match(/^(\d{1,2})(-|\:)(\d{1,2})\2(\d{1,2})$/);return s&&i?new Date(s[1],s[3]-1,s[4],i[1],i[3],i[4]).getTime():(new Date).getTime()}return"number"==typeof t?864e5*t:(new Date).getTime()},formatDate:function(t,e){var a=t?new Date(t):new Date,s=a.getFullYear(),i=a.getMonth()+1,n=a.getDate(),r=a.getHours(),o=a.getMinutes(),l=a.getSeconds(),h=function(t){return(t=t.toString())[1]?t:"0"+t};return[s,i,n].map(h).join(e||"-")+" "+[r,o,l].map(h).join(":")},getMonth:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t?new Date(t):new Date,n=i.getFullYear(),r=i.getMonth()+1;a&&(a/12>1?(n-=Math.floor(a/12)+1,r=r-a%12<0?r-a%12+12:r-a%12):a/12==1?n-=1:a>=r?(n-=1,r=r-a%12<0?r-a%12+12:r-a%12):r-=a);if(s)if(s+r===12)n+=1;else if(s+r>12){n+=Math.floor((s+r)/12),r+=(s+r)%12}else r+=s;return[n,r].map(function(t){return(t=t.toString())[1]?t:"0"+t}).join(e||"-")}}},ZkDz:function(t,e,a){},lTEw:function(t,e,a){"use strict";a.r(e);a("XfO3"),a("HEwt"),a("a1Th"),a("rE2o"),a("ioFf"),a("rGqo"),a("KKXr"),a("xfY5");var s=a("nKjl"),i=a("TB3a"),n={name:"charts-date-picker",props:{disabledDate:{type:Boolean,default:!1}},data:function(){return{defaultDate:[],editableState:!1,unlinkPanels:!0}},computed:{pickerOptions:function(){return this.disabledDate?{disabledDate:function(t){return t.getTime()>=(new Date).getTime()}}:{}}},methods:{datePickerChange:function(t){this.defaultDate=t,this.$emit("datechange",t)}},created:function(){this.defaultDate=[i.a.getMonth(null,null,12),i.a.getMonth()],this.$emit("datechange",this.defaultDate)},render:function(t){return t("div",[t("el-date-picker",{class:"resetChartDatePickerStyle",attrs:{type:"monthrange",value:this.defaultDate,"unlink-panels":this.unlinkPanels,size:"mini","start-placeholder":"开始月份","end-placeholder":"结束月份",format:"yyyy 年 MM 月","value-format":"yyyy-MM",editable:this.editableState,"picker-options":this.pickerOptions},on:{input:this.datePickerChange}})])}},r=(a("75ce"),a("lLGD"),a("sRwP"),a("0o9m"),a("Cm0C"),a("AH3D"),a("Ynxi"),a("zixQ"),{trend:{result:[{month:"2018-01",salesVolume:220,salesNumber:315},{month:"2018-02",salesVolume:20,salesNumber:25},{month:"2018-03",salesVolume:120,salesNumber:135},{month:"2018-04",salesVolume:220,salesNumber:315},{month:"2018-05",salesVolume:320,salesNumber:355},{month:"2018-06",salesVolume:350,salesNumber:415},{month:"2018-07",salesVolume:320,salesNumber:365},{month:"2018-08",salesVolume:420,salesNumber:515},{month:"2018-09",salesVolume:520,salesNumber:615},{month:"2018-10",salesVolume:220,salesNumber:315},{month:"2018-11",salesVolume:330,salesNumber:355},{month:"2018-12",salesVolume:220,salesNumber:315},{month:"2019-01",salesVolume:120,salesNumber:125},{month:"2019-02",salesVolume:110,salesNumber:115},{month:"2019-03",salesVolume:220,salesNumber:315},{month:"2019-04",salesVolume:420,salesNumber:445},{month:"2019-05",salesVolume:520,salesNumber:715},{month:"2019-06",salesVolume:550,salesNumber:730},{month:"2019-07",salesVolume:420,salesNumber:555},{month:"2019-08",salesVolume:590,salesNumber:795},{month:"2019-09",salesVolume:320,salesNumber:415},{month:"2019-10",salesVolume:420,salesNumber:625},{month:"2019-11",salesVolume:720,salesNumber:915},{month:"2019-12",salesVolume:620,salesNumber:825},{month:"2020-01",salesVolume:320,salesNumber:415},{month:"2020-02",salesVolume:220,salesNumber:315},{month:"2020-03",salesVolume:420,salesNumber:515},{month:"2020-04",salesVolume:520,salesNumber:715}]},receivables:{result:[{name:"公司1",proportion:1},{name:"公司2",proportion:2},{name:"公司3",proportion:3},{name:"公司4",proportion:4},{name:"公司5",proportion:5},{name:"公司6",proportion:6},{name:"公司7",proportion:7},{name:"公司888888888888888888",proportion:8},{name:"公司9",proportion:9},{name:"公司10",proportion:10},{name:"公司11",proportion:11},{name:"公司12",proportion:12},{name:"公司13",proportion:13},{name:"公司14",proportion:14},{name:"公司15",proportion:15}]}});function o(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l={name:"chart-sale-trend",components:{chart:s.a,DatePicker:n},props:{height:{type:String,default:"300px"},width:{type:String,default:"100%"},node:{type:Number,default:5},apiObj:{type:Object,default:function(){return{}}}},data:function(){return{loading:!0,chartData:null,salesVolume:[],salesNumber:[],months:[],selectMonths:[],resultData:null}},computed:{hasData:function(){return this.chartData},setMonths:function(){return this.months.map(function(t){var e=t.split("-");return e[1]=e[1]-0+"月",e.join("年")})},setSalesNumberMin:function(){return this.salesNumber.length?Math.min.apply(Math,o(this.salesNumber))-0:0},setSalesNumberMax:function(){if(!this.salesNumber.length)return 5;var t=(Math.max.apply(Math,o(this.salesNumber))-0+(this.setSalesNumberMin>0?0:this.setSalesNumberMin)+"").split("");return t[0]=t[0]-0+1,t.map(function(t,e){return e?"0":t+""}).join("")-0},setSalesVolumeMin:function(){return this.salesVolume.length?Math.min.apply(Math,o(this.salesVolume))-0:0},setSalesVolumeMax:function(){if(!this.salesVolume.length)return 5;var t=(Math.max.apply(Math,o(this.salesVolume))-0+(this.setSalesVolumeMin>0?0:this.setSalesVolumeMin)+"").split("");return t[0]=t[0]-0+1,t.map(function(t,e){return e?"0":t+""}).join("")-0},setYAxisMin:function(){return Math.min.apply(Math,[this.setSalesNumberMin,this.setSalesVolumeMin])},setYAxisMax:function(){return Math.max.apply(Math,[this.setSalesNumberMax,this.setSalesVolumeMax])},defaultOption:function(){return{title:{text:"销售趋势图",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},dataZoom:[{show:!0,realtime:!0,start:0,end:100},{type:"inside",realtime:!0,start:0,end:100}],legend:{data:["销售量","销售额"],left:5},xAxis:[{type:"category",data:this.setMonths,axisPointer:{type:"shadow"},axisTick:{show:!1}}],yAxis:[{type:"value",name:"销售量",min:this.setYAxisMin>0?0:this.setYAxisMin,max:this.setYAxisMax,interval:this.setYAxisMax/this.node,axisTick:{show:!1},splitLine:{show:!1},axisLabel:{formatter:"{value}"},nameTextStyle:{color:"transparent"}},{show:!1,type:"value",name:"销售额",min:this.setYAxisMin>0?0:this.setYAxisMin,max:this.setYAxisMax,interval:this.setYAxisMax/this.node,axisLabel:{formatter:"{value}"}}],series:[{name:"销售量",type:"bar",data:this.salesVolume},{name:"销售额",type:"line",yAxisIndex:1,itemStyle:{normal:{barBorderRadius:0,label:{show:!0,position:"top",formatter:function(t){return t.value||0}}}},data:this.salesNumber}]}},userInfo:function(){return this.$store.getters.userInfo}},watch:{selectMonths:function(t,e){t&&t.length&&(this.useStorage(t,e)?this.resetResult(t):this.httpRequest())}},methods:{useStorage:function(t,e){return!!(t&&t.length&&e&&e.length)&&(t[0]>=e[0]&&e[1]>=t[1])},resetResult:function(t){var e=JSON.parse(this.resultData);this.chartData=e.filter(function(e){if(e.month>=t[0]&&t[1]>=e.month)return!0}),this.formatChartData()},formatChartData:function(){var t=this.chartData;t.length&&(this.salesVolume=t.map(function(t){return t.salesVolume-0}),this.salesNumber=t.map(function(t){return t.salesNumber-0}),this.months=t.map(function(t){return t.month}))},dateChange:function(t){this.selectMonths=t},httpRequest:function(){var t=this;this.loading=!0,this.userInfo&&"0"!=this.userInfo.userId?this.apiObj.apiName&&this.$api[this.apiObj.apiName](this.apiObj.params).then(function(e){t.loading=!1}).catch(function(e){t.loading=!1}):setTimeout(function(e){t.resultData=JSON.stringify(r.trend.result||[]),t.chartData=r.trend.result||[],t.formatChartData(),t.loading=!1},3e3)}},created:function(){this.httpRequest()},render:function(t){return t("div",{directives:[{name:"loading",value:this.loading}],class:"resetChartViewStyle",attrs:{"element-loading-text":"数据加载中...","element-loading-spinner":"none"},style:{height:this.height}},[this.hasData?t("div",[t("date-picker",{on:{datechange:this.dateChange},attrs:{hasData:!0,disabledDate:!0}}),t("chart",{style:{height:"".concat(parseInt(this.height)-28,"px"),width:this.width},attrs:{options:this.defaultOption}})]):t("div",{style:"position: relative;height:100%;"},[t("div",{style:"position: absolute;top: 50%;left: 50%;transform: translate(-50%,-50%);"},[this.loading?"":"暂无数据"])])])}};a("f3/d"),a("C0tN");function h(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u={name:"chart-sale-staff-trend",components:{chart:s.a,DatePicker:n},props:{height:{type:String,default:"300px"},width:{type:String,default:"100%"},node:{type:Number,default:5},apiObj:{type:Object,default:function(){return{}}}},data:function(){return{loading:!0,chartData:null,salesVolume:[],salesNumber:[],months:[],selectMonths:[],testTimer:null}},computed:{hasData:function(){return this.chartData},setMonths:function(){var t=this.selectMonths[0],e=this.selectMonths[1];if(!t||!e)return[];for(var a=t.split("-"),s=e.split("-"),i=12*(s[0]-0)+(s[1]-0)-(12*(a[0]-0)+(a[1]-0)),n=[],r=0;r<i;r++)r?n[r-1][1]>11?n.push([n[r-1][0]+1,1]):n.push([n[r-1][0],n[r-1][1]+1]):n.push([a[0]-0,a[1]-0]);var o=n.map(function(t){return t[1]+="月",t.join("年")});return console.log(o),o},setYAxisMin:function(){return this.chartData&&this.chartData.length?Math.min.apply(Math,h(Array.prototype.concat.apply([],this.chartData.map(function(t){return t.seriesData})))):0},setYAxisMax:function(){if(!this.chartData||!this.chartData.length)return 0;var t=(Math.max.apply(Math,h(Array.prototype.concat.apply([],this.chartData.map(function(t){return t.seriesData}))))+"").split("");return t[0]=t[0]-0+1,t.map(function(t,e){return e?"0":t+""}).join("")-0},chartSeries:function(){return this.chartData&&this.chartData.length?this.chartData.map(function(t){return{name:t.name||"",type:"line",itemStyle:{normal:{barBorderRadius:0,label:{show:!0,position:"top",formatter:function(t){return t.value||0}}}},data:t.seriesData}}):[]},legendData:function(){return this.chartData&&this.chartData.length?this.chartData.map(function(t){return t.name}):[]},defaultOption:function(){return{title:{text:"员工销售趋势",left:"center"},tooltip:{trigger:"item"},legend:{type:"scroll",data:this.legendData,bottom:10,left:5},xAxis:[{type:"category",data:this.setMonths,axisPointer:{type:"shadow"},axisTick:{show:!1}}],yAxis:[{type:"value",name:"销售额",min:this.setYAxisMin>0?0:this.setYAxisMin,max:this.setYAxisMax,interval:this.setYAxisMax/this.node,axisTick:{show:!1},splitLine:{show:!1},axisLabel:{formatter:"{value}"}}],series:this.chartSeries}},userInfo:function(){return this.$store.getters.userInfo}},watch:{selectMonths:function(t,e){this.httpRequest()}},methods:{formatChartData:function(){var t=this.chartData;t.length&&(this.salesVolume=t.map(function(t){return t.salesVolume-0}),this.salesNumber=t.map(function(t){return t.salesNumber-0}),this.months=t.map(function(t){return t.month}))},dateChange:function(t){this.selectMonths=t,this.httpRequest()},httpRequest:function(){var t=this;this.loading=!0,this.userInfo&&"0"!=this.userInfo.userId?this.apiObj.apiName&&this.$api[this.apiObj.apiName](this.apiObj.params).then(function(e){t.loading=!1}).catch(function(e){t.loading=!1}):(clearTimeout(this.testTimer),this.testTimer=setTimeout(function(e){t.chartData=t.createData(),t.loading=!1},3e3))},createData:function(){var t=0,e=Math.ceil(12*Math.random()),a=[];if(this.selectMonths[0]&&this.selectMonths[1]){var s,i;s=this.selectMonths[0].split("-")[0]-0,i=this.selectMonths[0].split("-")[1]-0,t=12*(this.selectMonths[1].split("-")[0]-0)+(this.selectMonths[1].split("-")[1]-0)-(12*s+i);for(var n=0;n<e;n++)a.push(this.genData(t))}return a},genData:function(t){for(var e=["赵","钱","孙","李","周","吴","郑","王","冯","陈","褚","卫","蒋","沈","韩","杨","朱","秦","尤","许","何","吕","施","张","孔","曹","严","华","金","魏","陶","姜","戚","谢","邹","喻","柏","水","窦","章","云","苏","潘","葛","奚","范","彭","郎","鲁","韦","昌","马","苗","凤","花","方","俞","任","袁","柳","酆","鲍","史","唐","费","廉","岑","薛","雷","贺","倪","汤","滕","殷","罗","毕","郝","邬","安","常","乐","于","时","傅","皮","卞","齐","康","伍","余","元","卜","顾","孟","平","黄","和","穆","萧","尹","姚","邵","湛","汪","祁","毛","禹","狄","米","贝","明","臧","计","伏","成","戴","谈","宋","茅","庞","熊","纪","舒","屈","项","祝","董","梁","杜","阮","蓝","闵","席","季","麻","强","贾","路","娄","危"],a=[],s=Math.random()>.65?n(4,1)+"·"+n(3,0):n(2,1),i=0;i<t;i++)a.push(Math.round(1e5*Math.random()));return{name:s,seriesData:a};function n(t,a){for(var s=Math.ceil(Math.random()*t+a),i=[],n=0;n<s;n++)i.push(e[Math.round(Math.random()*e.length-1)]);return i.join("")}}},created:function(){this.httpRequest()},render:function(t){return t("div",{directives:[{name:"loading",value:this.loading}],class:"resetChartViewStyle",attrs:{"element-loading-text":"数据加载中...","element-loading-spinner":"none"},style:{height:this.height}},[this.hasData?t("div",[t("date-picker",{on:{datechange:this.dateChange},attrs:{hasData:!0,disabledDate:!0}}),t("chart",{style:{height:"".concat(parseInt(this.height)-28,"px"),width:this.width},attrs:{options:this.defaultOption}})]):t("div",{style:"position: relative;height:100%;"},[t("div",{style:"position: absolute;top: 50%;left: 50%;transform: translate(-50%,-50%);"},[this.loading?"":"暂无数据"])])])}},d={titles:[{name:"姓名"},{id:"id"},{number:"销售额"},{val:"销售量"},{count:"订单数"}],hideTitles:["id"],varList:[{name:"张三",id:"1",number:"300",val:"6000",count:36},{name:"张四",id:"2",number:"400",val:"7000",count:40},{name:"张五",id:"3",number:"200",val:"4000",count:36},{name:"张六",id:"4",number:"100",val:"2000",count:6},{name:"张7",id:"5",number:"300",val:"6000",count:36},{name:"张8",id:"6",number:"300",val:"6000",count:36},{name:"张9",id:"7",number:"300",val:"6000",count:36},{name:"张10",id:"8",number:"300",val:"6000",count:36},{name:"张11",id:"9",number:"300",val:"6000",count:36},{name:"张12",id:"10",number:"300",val:"6000",count:36},{name:"张13",id:"11",number:"300",val:"6000",count:36},{name:"张14",id:"12",number:"300",val:"6000",count:36},{name:"张15",id:"13",number:"300",val:"6000",count:36},{name:"张16",id:"14",number:"300",val:"6000",count:36},{name:"张17",id:"15",number:"300",val:"6000",count:36}],pageData:{current:1,pages:"1",records:[],size:10,total:"1"}},c=a("z0WU"),m={name:"chart-sale-staff-ranking",components:{DatePicker:n},props:{height:{type:String,default:"300px"},width:{type:String,default:"100%"},apiObj:{type:Object,default:function(){return{}}}},data:function(){return{loading:!0,selectMonths:[],titleList:[],tableList:[]}},computed:{userInfo:function(){return this.$store.getters.userInfo},hasData:function(){return!!this.titleList.length}},methods:{httpRequest:function(){var t=this;this.loading=!0,this.userInfo&&"0"!=this.userInfo.userId?this.apiObj.apiName&&this.$api[this.apiObj.apiName](this.apiObj.params).then(function(e){t.loading=!1}).catch(function(e){t.loading=!1}):setTimeout(function(e){t.titleList=Object(c.o)(d),t.tableList=d.varList,t.loading=!1},3e3)},formatData:function(){},dateChange:function(t){this.selectMonths=t,this.tableList=[],this.httpRequest()},tableRowClassName:function(t){t.row;return t.rowIndex%2?"evenRow":"oddRow"}},created:function(){this.httpRequest()},render:function(t){return t("div",{directives:[{name:"loading",value:this.loading}],class:"resetChartViewStyle",attrs:{"element-loading-text":"数据加载中...","element-loading-spinner":"none"},style:{height:this.height}},[t("date-picker",{on:{datechange:this.dateChange},attrs:{hasData:!0,disabledDate:!0}}),this.hasData?t("div",[t("el-table",{ref:"chartTable",attrs:{data:this.tableList,stripe:!0,border:!0,"current-row-key":"id",height:"".concat(parseInt(this.height)-35,"px"),size:"mini",fit:!0,"row-key":"id","header-row-class-name":"chartTableHeaderClass","row-class-name":this.tableRowClassName},style:"width: 100%;"},[this.titleList.map(function(e,a){return t("el-table-column",{attrs:{"show-overflow-tooltip":!0,sortable:!!a,label:e.label,prop:e.prop,align:"center"}})})])]):t("div",{style:"position: absolute;top:0;left:0;right:0;bottom:0"},[t("div",{style:"height:100%;position: relative;"},[t("div",{style:"position: absolute;top: 50%;left: 50%;transform: translate(-50%,-50%);font-size: 16px;"},[this.loading?"":"暂无数据"])])])])}},p=(a("Fa/5"),{name:"chart-sale-receivables",components:{chart:s.a},props:{height:{type:String,default:"300px"},width:{type:String,default:"100%"},apiObj:{type:Object,default:function(){return{}}}},data:function(){return{loading:!0,chartData:null,currentIndex:1}},computed:{hasData:function(){return this.chartData},chartDataLength:function(){return this.chartData&&this.chartData.length?this.chartData.length:0},setNameLists:function(){return this.arrayChunk(this.chartData.map(function(t){return t.name}),10)},setProportionLists:function(){return this.arrayChunk(this.chartData.map(function(t){return t.proportion}),10)},defaultOption:function(){return{title:{text:"应收账款分布",left:"center",top:10},tooltip:{trigger:"axis",axisPointer:{type:"none"},formatter:"{b0}<br />{a0}: {c0}%"},grid:{left:"5%",top:40,right:10,bottom:0,containLabel:!0},xAxis:[{show:!1}],yAxis:[{axisTick:"none",axisLine:"none",offset:"17",axisLabel:{formatter:function(t){return"{value|".concat(t.length>5?t.slice(0,6):t,"}")},rich:{value:{color:"#000000",fontSize:"16",width:100}}},inverse:!0,data:this.setNameLists[this.currentIndex-1]},{axisTick:"none",axisLine:"none",inverse:!0,axisLabel:{textStyle:{color:"#000000",fontSize:"16"}},data:[]},{inverse:!0,axisLine:{lineStyle:{color:"rgba(0,0,0,0)"}},data:[]}],series:[{name:"应收款占比",type:"bar",yAxisIndex:0,data:this.setProportionLists[this.currentIndex-1],label:{show:!0,position:"right",color:"#000000",fontSize:"12",formatter:"{c}%"},barWidth:12,itemStyle:{normal:{color:"#46a6ff"}},z:2},{name:"白框",type:"bar",yAxisIndex:1,barGap:"-100%",data:this.createArr(this.setProportionLists[this.currentIndex-1].length,99.5),barWidth:14,itemStyle:{normal:{color:"#ffffff",barBorderRadius:5}},z:1},{name:"外框",type:"bar",yAxisIndex:2,barGap:"-100%",data:this.createArr(this.setProportionLists[this.currentIndex-1].length,100),barWidth:16,itemStyle:{normal:{color:"#000000",barBorderRadius:5}},z:0},{name:"外圆",type:"scatter",hoverAnimation:!1,data:this.createArr(this.setProportionLists[this.currentIndex-1].length,0),yAxisIndex:2,symbolSize:24,itemStyle:{normal:{color:"#46a6ff",opacity:1}},z:2}]}},userInfo:function(){return this.$store.getters.userInfo}},methods:{httpRequest:function(){var t=this;this.loading=!0,this.userInfo&&"0"!=this.userInfo.userId?this.apiObj.apiName&&this.$api[this.apiObj.apiName](this.apiObj.params).then(function(e){t.loading=!1}).catch(function(e){t.loading=!1}):setTimeout(function(e){t.chartData=r.receivables.result||[],t.formatChartData(),t.loading=!1},3e3)},formatChartData:function(){},currentChange:function(t){this.currentIndex=t},arrayChunk:function(t,e){for(var a=new Array,s=0,i=t.length/e,n=0;n<i;n++){for(var r=new Array,o=0;o<e&&(r[o]=t[s++],s!=t.length);o++);a[n]=r}return console.log(a),a},createArr:function(t,e){for(var a=[],s=0;s<t;s++)a.push(e);return a}},created:function(){this.httpRequest()},render:function(t){return t("div",{directives:[{name:"loading",value:this.loading}],class:"resetChartViewStyle",attrs:{"element-loading-text":"数据加载中...","element-loading-spinner":"none"},style:{height:this.height}},[this.hasData?t("div",[t("chart",{style:{height:"".concat(parseInt(this.height)-(this.chartDataLength>10?27:0),"px"),width:this.width},attrs:{options:this.defaultOption}}),this.chartDataLength>10?t("el-pagination",{style:{"text-align":"center"},attrs:{small:!0,layout:"prev, pager, next",total:this.chartDataLength},on:{"current-change":this.currentChange}}):null]):t("div",{style:"position: relative;height:100%;"},[t("div",{style:"position: absolute;top: 50%;left: 50%;transform: translate(-50%,-50%);"},[this.loading?"":"暂无数据"])])])}}),f=(a("wDdD"),{name:"chart-sale-quota-distribution",components:{chart:s.a,DatePicker:n},props:{height:{type:String,default:"300px"},width:{type:String,default:"100%"},node:{type:Number,default:5},apiObj:{type:Object,default:function(){return{}}}},data:function(){return{loading:!0,chartData:null,selectMonths:[]}},computed:{hasData:function(){return this.chartData},defaultOption:function(){return{title:{text:"产品销售额分布",left:"center"},tooltip:{trigger:"item",formatter:"{a}: {b}<br/>销售额: {c} ({d}%)"},legend:{type:"scroll",orient:"vertical",left:50,top:20,bottom:20,data:this.chartData.legendData,formatter:function(t){return"".concat(t.length>6?t.slice(0,6)+"... ":t)}},series:[{name:"产品",type:"pie",radius:"55%",center:["70%","50%"],data:this.chartData.seriesData,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},userInfo:function(){return this.$store.getters.userInfo}},watch:{selectMonths:function(t,e){console.log(t),this.httpRequest()}},methods:{formatChartData:function(){var t=this.chartData;t.length&&(this.salesVolume=t.map(function(t){return t.salesVolume-0}),this.salesNumber=t.map(function(t){return t.salesNumber-0}),this.months=t.map(function(t){return t.month}))},dateChange:function(t){this.selectMonths=t},httpRequest:function(){var t=this;this.loading=!0,this.userInfo&&"0"!=this.userInfo.userId?this.apiObj.apiName&&this.$api[this.apiObj.apiName](this.apiObj.params).then(function(e){t.loading=!1}).catch(function(e){t.loading=!1}):setTimeout(function(e){t.chartData=t.genData(30),t.loading=!1},3e3)},genData:function(t){for(var e=["赵","钱","孙","李","周","吴","郑","王","冯","陈","褚","卫","蒋","沈","韩","杨","朱","秦","尤","许","何","吕","施","张","孔","曹","严","华","金","魏","陶","姜","戚","谢","邹","喻","柏","水","窦","章","云","苏","潘","葛","奚","范","彭","郎","鲁","韦","昌","马","苗","凤","花","方","俞","任","袁","柳","酆","鲍","史","唐","费","廉","岑","薛","雷","贺","倪","汤","滕","殷","罗","毕","郝","邬","安","常","乐","于","时","傅","皮","卞","齐","康","伍","余","元","卜","顾","孟","平","黄","和","穆","萧","尹","姚","邵","湛","汪","祁","毛","禹","狄","米","贝","明","臧","计","伏","成","戴","谈","宋","茅","庞","熊","纪","舒","屈","项","祝","董","梁","杜","阮","蓝","闵","席","季","麻","强","贾","路","娄","危"],a=[],s=[],i={},n=0;n<t;n++)name=Math.random()>.65?r(4,1)+"·"+r(3,0):r(2,1),a.push(name),s.push({name:name,value:Math.round(1e5*Math.random())}),i[name]=n<6;return{legendData:a,seriesData:s,selected:i};function r(t,a){for(var s=Math.ceil(Math.random()*t+a),i=[],n=0;n<s;n++)i.push(e[Math.round(Math.random()*e.length-1)]);return i.join("")}}},created:function(){this.httpRequest()},render:function(t){return t("div",{directives:[{name:"loading",value:this.loading}],class:"resetChartViewStyle",attrs:{"element-loading-text":"数据加载中...","element-loading-spinner":"none"},style:{height:this.height}},[this.hasData?t("div",[t("date-picker",{on:{datechange:this.dateChange},attrs:{hasData:!0,disabledDate:!0}}),t("chart",{style:{height:"".concat(parseInt(this.height)-28,"px"),width:this.width},attrs:{options:this.defaultOption}})]):t("div",{style:"position: relative;height:100%;"},[t("div",{style:"position: absolute;top: 50%;left: 50%;transform: translate(-50%,-50%);"},[this.loading?"":"暂无数据"])])])}}),v=(a("dRSK"),{name:"encapsulation-charts",components:{saleTrend:l,saleStaffTrend:u,saleReceivables:p,saleQuotaDistribution:f,saleCustomerQuotaDistribution:{name:"chart-sale-customer-quota-distribution",components:{chart:s.a,DatePicker:n},props:{height:{type:String,default:"300px"},width:{type:String,default:"100%"},node:{type:Number,default:5},apiObj:{type:Object,default:function(){return{}}}},data:function(){return{loading:!0,chartData:null,selectMonths:[]}},computed:{hasData:function(){return this.chartData},defaultOption:function(){var t=this;return{title:{text:"客户销售额分布",left:"center"},tooltip:{trigger:"item",formatter:"{a}: {b}<br/>销售额: {c} ({d}%)"},legend:{type:"scroll",orient:"vertical",left:50,top:20,bottom:20,data:this.chartData.legendData,formatter:function(e){var a=t.chartData.seriesData.find(function(t){return t.name===e});return"".concat(a.name.length>6?a.name.slice(0,6)+"... ":a.name," (").concat(a.value,")")}},series:[{name:"产品",type:"pie",radius:"55%",center:["70%","50%"],data:this.chartData.seriesData,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},userInfo:function(){return this.$store.getters.userInfo}},watch:{selectMonths:function(t,e){console.log(t),this.httpRequest()}},methods:{formatChartData:function(){var t=this.chartData;t.length&&(this.salesVolume=t.map(function(t){return t.salesVolume-0}),this.salesNumber=t.map(function(t){return t.salesNumber-0}),this.months=t.map(function(t){return t.month}))},dateChange:function(t){this.selectMonths=t},httpRequest:function(){var t=this;this.loading=!0,this.userInfo&&"0"!=this.userInfo.userId?this.apiObj.apiName&&this.$api[this.apiObj.apiName](this.apiObj.params).then(function(e){t.loading=!1}).catch(function(e){t.loading=!1}):setTimeout(function(e){t.chartData=t.genData(30),t.loading=!1},3e3)},genData:function(t){for(var e=["赵","钱","孙","李","周","吴","郑","王","冯","陈","褚","卫","蒋","沈","韩","杨","朱","秦","尤","许","何","吕","施","张","孔","曹","严","华","金","魏","陶","姜","戚","谢","邹","喻","柏","水","窦","章","云","苏","潘","葛","奚","范","彭","郎","鲁","韦","昌","马","苗","凤","花","方","俞","任","袁","柳","酆","鲍","史","唐","费","廉","岑","薛","雷","贺","倪","汤","滕","殷","罗","毕","郝","邬","安","常","乐","于","时","傅","皮","卞","齐","康","伍","余","元","卜","顾","孟","平","黄","和","穆","萧","尹","姚","邵","湛","汪","祁","毛","禹","狄","米","贝","明","臧","计","伏","成","戴","谈","宋","茅","庞","熊","纪","舒","屈","项","祝","董","梁","杜","阮","蓝","闵","席","季","麻","强","贾","路","娄","危"],a=[],s=[],i={},n=0;n<t;n++)name=Math.random()>.65?r(4,1)+"·"+r(3,0):r(2,1),a.push(name),s.push({name:name,value:Math.round(1e5*Math.random())}),i[name]=n<6;return{legendData:a,seriesData:s,selected:i};function r(t,a){for(var s=Math.ceil(Math.random()*t+a),i=[],n=0;n<s;n++)i.push(e[Math.round(Math.random()*e.length-1)]);return i.join("")}}},created:function(){this.httpRequest()},render:function(t){return t("div",{directives:[{name:"loading",value:this.loading}],class:"resetChartViewStyle",attrs:{"element-loading-text":"数据加载中...","element-loading-spinner":"none"},style:{height:this.height}},[this.hasData?t("div",[t("date-picker",{on:{datechange:this.dateChange},attrs:{hasData:!0,disabledDate:!0}}),t("chart",{style:{height:"".concat(parseInt(this.height)-28,"px"),width:this.width},attrs:{options:this.defaultOption}})]):t("div",{style:"position: relative;height:100%;"},[t("div",{style:"position: absolute;top: 50%;left: 50%;transform: translate(-50%,-50%);"},[this.loading?"":"暂无数据"])])])}},saleStaffRanking:m},data:function(){return{apiObj1:{apiName:"",params:{}},salesVolume:{},salesVolumeState:{thisMonth:!1,lastMonth:!1,monthBefore:!1,thisYear:!1,lastYear:!1},salesVolumeWidth:{thisMonth:0,lastMonth:0,monthBefore:0,thisYear:0,lastYear:0},salesNum:{},salesNumState:{thisMonth:!1,lastMonth:!1,monthBefore:!1,thisYear:!1,lastYear:!1}}},methods:{formatNumber:function(t){return console.log(this.userInfo.userId),"0"==this.userInfo.userId?(Math.random()*(1e14*Math.random())).toFixed(2):t?void 0:1}},computed:{setHeight:function(){return"400px"},userInfo:function(){return this.$store.getters.userInfo}},directives:{"set-width":{inserted:function(t,e,a){a.context[e.value.rootKey][e.value.key]=t.offsetWidth}}}}),g=(a("FYU4"),a("KHd+")),b=Object(g.a)(v,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"encapsulationCharts"},[a("div",{staticClass:"dataPlan"},[a("div",{staticClass:"dataView"},[a("div",{staticClass:"viewTitle"},[t._v("销售额")]),t._v(" "),a("div",{staticClass:"dataBox clearfix"},[a("div",{staticClass:"dataBoxLeft"},[a("div",{staticClass:"dataTitle"},[t._v("本月")]),t._v(" "),a("div",{staticClass:"dataNumberBox"},[a("div",{staticClass:"dataNumberView"},[a("span",{staticClass:"dataIntNumber",style:{maxWidth:"calc(100% - 13px)"},domProps:{textContent:t._s(t.formatNumber(t.salesVolume.thisMonth))}}),a("span",{staticClass:"dataNumberUnit"},[t._v("元")])])])]),t._v(" "),a("div",{staticClass:"dataBoxRight"},[a("div",{staticClass:"dataTitle"},[t._v("上月")]),t._v(" "),a("div",{staticClass:"dataNumberBox"},[a("div",{staticClass:"dataNumberView"},[a("span",{staticClass:"dataLastNumber",style:{maxWidth:"calc(100% - 13px)"},domProps:{textContent:t._s(t.formatNumber(t.salesVolume.thisMonth))}}),a("span",{staticClass:"dataNumberUnit"},[t._v("元")])])]),t._v(" "),a("div",{staticClass:"dataTitle paddingT10"},[t._v("同比")]),t._v(" "),a("div",{staticClass:"dataNumberBox"},[a("div",{staticClass:"dataNumberView"},[a("span",{staticClass:"dataLastNumber",style:{maxWidth:"calc(100% - 13px)"},domProps:{textContent:t._s(t.formatNumber(t.salesVolume.thisMonth))}}),a("span",{staticClass:"dataNumberUnit"},[t._v("元")])])])])]),t._v(" "),a("div",{staticClass:"dataBox clearfix paddingT30"},[a("div",{staticClass:"dataBoxLeft"},[a("div",{staticClass:"dataTitle"},[t._v("今年")]),t._v(" "),a("div",{staticClass:"dataNumberBox"},[a("div",{staticClass:"dataNumberView"},[a("span",{staticClass:"dataIntNumber",style:{maxWidth:"calc(100% - 13px)"},domProps:{textContent:t._s(t.formatNumber(t.salesVolume.thisMonth))}}),a("span",{staticClass:"dataNumberUnit"},[t._v("元")])])])]),t._v(" "),a("div",{staticClass:"dataBoxRight resetMargin paddingT10 paddingB10"},[a("div",{staticClass:"dataTitle"},[t._v("去年")]),t._v(" "),a("div",{staticClass:"dataNumberBox"},[a("div",{staticClass:"dataNumberView"},[a("span",{staticClass:"dataLastNumber",style:{maxWidth:"calc(100% - 13px)"},domProps:{textContent:t._s(t.formatNumber(t.salesVolume.thisMonth))}}),a("span",{staticClass:"dataNumberUnit"},[t._v("元")])])])])])]),t._v(" "),a("div",{staticClass:"dataView"},[a("div",{staticClass:"viewTitle"},[t._v("销售量")]),t._v(" "),a("div",{staticClass:"dataBox clearfix"},[a("div",{staticClass:"dataBoxLeft"},[a("div",{staticClass:"dataTitle"},[t._v("本月")]),t._v(" "),a("div",{staticClass:"dataNumberBox"},[a("div",{staticClass:"dataNumberView"},[a("span",{staticClass:"dataIntNumber",style:{maxWidth:"calc(100% - 13px)"},domProps:{textContent:t._s(t.formatNumber(t.salesVolume.thisMonth))}})])])]),t._v(" "),a("div",{staticClass:"dataBoxRight"},[a("div",{staticClass:"dataTitle"},[t._v("上月")]),t._v(" "),a("div",{staticClass:"dataNumberBox"},[a("div",{staticClass:"dataNumberView"},[a("span",{staticClass:"dataLastNumber",style:{maxWidth:"calc(100% - 13px)"},domProps:{textContent:t._s(t.formatNumber(t.salesVolume.thisMonth))}})])]),t._v(" "),a("div",{staticClass:"dataTitle paddingT10"},[t._v("同比")]),t._v(" "),a("div",{staticClass:"dataNumberBox"},[a("div",{staticClass:"dataNumberView"},[a("span",{staticClass:"dataLastNumber",style:{maxWidth:"calc(100% - 13px)"},domProps:{textContent:t._s(t.formatNumber(t.salesVolume.thisMonth))}})])])])]),t._v(" "),a("div",{staticClass:"dataBox clearfix paddingT30"},[a("div",{staticClass:"dataBoxLeft"},[a("div",{staticClass:"dataTitle"},[t._v("今年")]),t._v(" "),a("div",{staticClass:"dataNumberBox"},[a("div",{staticClass:"dataNumberView"},[a("span",{staticClass:"dataIntNumber",style:{maxWidth:"calc(100% - 13px)"},domProps:{textContent:t._s(t.formatNumber(t.salesVolume.thisMonth))}})])])]),t._v(" "),a("div",{staticClass:"dataBoxRight resetMargin paddingT10 paddingB10"},[a("div",{staticClass:"dataTitle"},[t._v("去年")]),t._v(" "),a("div",{staticClass:"dataNumberBox"},[a("div",{staticClass:"dataNumberView"},[a("span",{staticClass:"dataLastNumber",style:{maxWidth:"calc(100% - 13px)"},domProps:{textContent:t._s(t.formatNumber(t.salesVolume.thisMonth))}})])])])])]),t._v(" "),a("div",{staticClass:"dataView"},[a("div",{staticClass:"dataBox clearfix paddingB30"},[a("div",{staticClass:"dataBoxLeft paddingB20",staticStyle:{"padding-top":"0"}},[a("div",{staticClass:"dataTitle",staticStyle:{visibility:"hidden"}},[t._v("本月")]),t._v(" "),a("div",{staticClass:"dataNumberBox"},[a("div",{staticClass:"dataNumberView"},[a("span",{staticClass:"dataIntNumber",style:{maxWidth:"calc(100% - 13px)"},domProps:{textContent:t._s(t.formatNumber(t.salesVolume.thisMonth))}}),a("span",{staticClass:"dataNumberUnit"},[t._v("元")])])]),t._v(" "),a("div",{staticClass:"dataBoxTitle"},[t._v("应收账款")])]),t._v(" "),a("div",{staticClass:"dataBoxRight paddingB20"},[a("div",{staticClass:"dataTitle",staticStyle:{visibility:"hidden"}},[t._v("本月")]),t._v(" "),a("div",{staticClass:"dataNumberBox"},[a("div",{staticClass:"dataNumberView"},[a("span",{staticClass:"dataIntNumber",style:{maxWidth:"calc(100% - 13px)"},domProps:{textContent:t._s(t.formatNumber(t.salesVolume.thisMonth))}}),a("span",{staticClass:"dataNumberUnit"},[t._v("元")])])]),t._v(" "),a("div",{staticClass:"dataBoxTitle"},[t._v("本月新增")])])]),t._v(" "),a("div",{staticClass:"dataBox clearfix",staticStyle:{"padding-top":"40px"}},[a("div",{staticClass:"dataBoxLeft paddingB20",staticStyle:{"padding-top":"0"}},[a("div",{staticClass:"dataTitle",staticStyle:{visibility:"hidden"}},[t._v("本月")]),t._v(" "),a("div",{staticClass:"dataNumberBox"},[a("div",{staticClass:"dataNumberView"},[a("span",{staticClass:"dataIntNumber",style:{maxWidth:"calc(100% - 13px)"},domProps:{textContent:t._s(t.formatNumber(t.salesVolume.thisMonth))}}),a("span",{staticClass:"dataNumberUnit"},[t._v("单")])])]),t._v(" "),a("div",{staticClass:"dataBoxTitle"},[t._v("本月订单")])]),t._v(" "),a("div",{staticClass:"dataBoxRight paddingB20"},[a("div",{staticClass:"dataTitle",staticStyle:{visibility:"hidden"}},[t._v("本月")]),t._v(" "),a("div",{staticClass:"dataNumberBox"},[a("div",{staticClass:"dataNumberView"},[a("span",{staticClass:"dataIntNumber",style:{maxWidth:"calc(100% - 13px)"},domProps:{textContent:t._s(t.formatNumber(t.salesVolume.thisMonth))}}),a("span",{staticClass:"dataNumberUnit"},[t._v("单")])])]),t._v(" "),a("div",{staticClass:"dataBoxTitle"},[t._v("待完成")])])]),t._v(" "),a("div",{staticClass:"backgroundBar"})])]),t._v(" "),a("div",{staticClass:"chartsView"},[a("sale-trend",{attrs:{height:t.setHeight,apiObj:t.apiObj1}})],1),t._v(" "),a("div",{staticClass:"chartsView"},[a("sale-receivables",{attrs:{apiObj:t.apiObj1,height:t.setHeight}})],1),t._v(" "),a("div",{staticClass:"chartsView"},[a("sale-quota-distribution",{attrs:{height:t.setHeight,apiObj:t.apiObj1}})],1),t._v(" "),a("div",{staticClass:"chartsView"},[a("sale-customer-quota-distribution",{attrs:{height:t.setHeight,apiObj:t.apiObj1}})],1),t._v(" "),a("div",{staticClass:"chartsView"},[a("sale-staff-trend",{attrs:{height:t.setHeight,apiObj:t.apiObj1}})],1),t._v(" "),a("div",{staticClass:"chartsView"},[a("sale-staff-ranking",{attrs:{height:t.setHeight,apiObj:t.apiObj1}})],1)])},[],!1,null,null,null);b.options.__file="index.vue";e.default=b.exports},zixQ:function(t,e,a){}}]);