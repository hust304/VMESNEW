(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-35f0"],{"+IxY":function(e,t,i){},"0wyt":function(e,t,i){"use strict";var o=i("+IxY");i.n(o).a},GKgN:function(e,t,i){"use strict";i.r(t);i("dRSK"),i("f3/d"),i("rGqo"),i("INYr"),i("Z2Ku"),i("L9s1");var o=[{id:"aabbcc",title:"布局一",layout:[{x:0,y:0,w:24,h:4,i:"0",txt:"标题",componentName:"header",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0},{x:0,y:3,w:24,h:20,i:"1",txt:"正文",componentName:"main",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0}],name:""},{id:"abcsa",title:"布局二",layout:[{x:0,y:0,w:24,h:4,i:"0",txt:"标题",componentName:"header",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0},{x:0,y:3,w:24,h:16,i:"1",txt:"正文",componentName:"main",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0},{x:0,y:6,w:24,h:4,i:"2",txt:"题尾",componentName:"footer",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0}],name:""},{id:"aabsacc",title:"布局三",layout:[{x:0,y:0,w:6,h:24,i:"0",txt:"左侧栏",componentName:"leftAside",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0},{x:6,y:0,w:18,h:24,i:"1",txt:"右侧栏",componentName:"rightAside",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0}],name:""},{id:"aaabcc",title:"布局四",layout:[{x:0,y:0,w:24,h:4,i:"0",txt:"标题",componentName:"header",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0},{x:0,y:3,w:6,h:20,i:"1",txt:"左侧栏",componentName:"leftAside",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0},{x:6,y:3,w:18,h:20,i:"2",txt:"右侧栏",componentName:"rightAside",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0}],name:""},{id:"aabddc",title:"布局五",layout:[{x:0,y:0,w:24,h:4,i:"0",txt:"标题",componentName:"header",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0},{x:0,y:3,w:6,h:20,i:"1",txt:"左侧栏",componentName:"leftAside",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0},{x:6,y:3,w:18,h:16,i:"2",txt:"正文",componentName:"main",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0},{x:6,y:16,w:18,h:4,i:"3",txt:"题尾",componentName:"footer",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0}],name:""},{id:"adfbbcc",title:"布局六",layout:[{x:6,y:0,w:18,h:4,i:"0",txt:"标题",componentName:"header",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0},{x:0,y:0,w:6,h:24,i:"1",txt:"左侧栏",componentName:"leftAside",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0},{x:6,y:3,w:18,h:20,i:"2",txt:"正文",componentName:"main",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0}],name:""},{id:"afdscc",title:"布局七",layout:[{x:6,y:0,w:18,h:4,i:"0",txt:"标题",componentName:"header",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0},{x:0,y:0,w:6,h:24,i:"1",txt:"左侧栏",componentName:"leftAside",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0},{x:6,y:3,w:18,h:16,i:"2",txt:"正文",componentName:"main",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0},{x:6,y:16,w:18,h:4,i:"3",txt:"题尾",componentName:"footer",padding:10,backgroundColor:"",childBackgroundColor:"rgb(16,36,63)",baseWidth:0,baseHeight:0}],name:""}],n=i("wOnQ"),a=i.n(n),s=i("e+jF"),l={name:"default-layout",components:{GridLayout:s.GridLayout,GridItem:s.GridItem},props:{config:{type:Object,default:function(){return null}}},computed:{},created:function(){},methods:{dropDefaultLayout:function(e,t){e.dataTransfer.setData("layout",JSON.stringify(t))},setLayoutItemStyle:function(e,t){var i={};switch(e.componentName){case"header":i.backgroundColor="#b3c0d1";break;case"main":i.backgroundColor="#e9eef3";break;case"leftAside":i.backgroundColor="#d3dce6";break;case"rightAside":i.backgroundColor="#B3C0DF";break;case"footer":i.backgroundColor="#b3c0d1";break;default:i.backgroundColor="#b3c5d1"}return i}}},r=i("KHd+"),c=Object(r.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{draggable:"true"},on:{dragstart:function(t){e.dropDefaultLayout(t,e.config)}}},[i("grid-layout",{attrs:{layout:e.config.layout,"col-num":24,"row-height":6,"is-draggable":!1,"is-resizable":!1,"is-mirrored":!1,"vertical-compact":!0,margin:[0,0],"use-css-transforms":!0},on:{"update:layout":function(t){e.$set(e.config,"layout",t)}}},e._l(e.config.layout,function(t,o){return i("grid-item",{key:t.i,staticStyle:{"text-align":"center"},style:e.setLayoutItemStyle(t,o),attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i}},[e._v("\n      "+e._s(t.txt)+"\n    ")])}),1)],1)},[],!1,null,null,null);c.options.__file="defaultLayout.vue";var u=c.exports,g=(i("yt8O"),i("RW0V"),i("91GP"),i("xfY5"),i("MngD")),d=i("z1Gy"),h=i("z0WU"),C=i("jq09");function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},o=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),o.forEach(function(t){m(e,t,i[t])})}return e}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var A={name:"edit-plan",props:{scope:{type:Object,default:function(){return{}}},stepIndex:{type:Number,default:0},userSelectItem:{type:Object,default:function(){return null}}},components:p({editShape:g.a},d.a),data:function(){return{getCommonStyle:C.a.getCommonStyle,userSelectComponents:[],activeId:"",getBaseSizeTimer:""}},computed:{setUserSelectItemState:function(){return this.userSelectItem&&this.userSelectItem.i==this.scope.i&&2!=this.stepIndex},userSelectView:function(){return{height:"100%",position:"relative","box-shadow":this.setUserSelectItemState?"0 0 12px 0 rgba(0,0,0,.8)":"none",padding:"".concat(this.scope.padding||0,"px")}},selectViewBoxStyle:function(){return{backgroundColor:this.scope.childBackgroundColor}},setUserSelectComponent:function(){var e=this;return this.userSelectComponents.filter(function(t){return t.uuid===e.activeId})}},methods:{sendUserSelect:function(e){this.$emit("user-select",this.scope),this.activeId="",e.stopPropagation(),e.preventDefault()},dropTools:function(e){if(this.activeId="",this.userSelectItem&&this.userSelectItem.i==this.scope.i){var t=JSON.parse(e.dataTransfer.getData("componentName"));t.uuid=Object(h.f)(),t.defaultStyle="custom"===t.type?{}:this.initTargetElStyle(e,t),this.activeId=t.uuid,this.userSelectComponents.push(t)}},dropToolOver:function(){return!1},initTargetElStyle:function(e,t){var i={position:"absolute",width:t.defaultStyle.width,height:t.defaultStyle.height,top:e.offsetY-t.defaultStyle.height/2,left:e.offsetX-t.defaultStyle.width/2,rotate:0,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:0,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,borderWidth:0,borderColor:"",borderStyle:"solid",borderRadius:0,boxShadow:"",fontSize:16,fontWeight:500,lineHeight:1.4,letterSpacing:0,textAlign:"center",color:"#ffffff",backgroundColor:"",backgroundImage:"",backgroundSize:"cover",opacity:1,zIndex:this.userSelectComponents.length+1};return Object.assign({},i)},handleElementClick:function(e){this.activeId=e},handleElementResize:function(e){var t=this;this.activeId&&e&&this.userSelectComponents.forEach(function(i){i.uuid===t.activeId&&(i.defaultStyle=p({},e))})},valueBus:function(e){this.userSelectComponents.forEach(function(t){t.uuid===e.uuid&&(t=Object.assign(t,e))})},deleteUserSelectComponents:function(e){this.activeId&&this.activeId===e&&(this.userSelectComponents=this.userSelectComponents.filter(function(t){return t.uuid!==e}),this.activeId="")},resetActive:function(e){!e||"input"!==e.type&&"textarea"!==e.type||this.$el.querySelector("#".concat(e.uuid)).querySelector("input").blur(),this.activeId=""},resetSelectComponetns:function(){this.activeId="",this.userSelectComponents=[]},getSelectComponents:function(){this.activeId="",this.$emit("user-components",{layoutId:this.scope.i,components:this.userSelectComponents})},changeComponentColor:function(){var e=["input","textarea","date","time","datetime"];(this.userSelectComponents||[]).forEach(function(t){e.includes(t.type)&&("#ffffff"===t.defaultStyle.color?t.defaultStyle.color="#000000":"#000000"===t.defaultStyle.color&&(t.defaultStyle.color="#ffffff"))})}},watch:{setUserSelectItemState:function(){this.setUserSelectItemState||(this.activeId="")},setUserSelectComponent:function(){this.$emit("send-component",this.setUserSelectComponent)}},mounted:function(){var e=this;this.getBaseSizeTimer=setTimeout(function(t){e.$nextTick(function(t){e.scope.baseWidth=e.$el.offsetWidth,e.scope.baseHeight=e.$el.offsetHeight})})},beforeDestroy:function(){clearTimeout(this.getBaseSizeTimer)}},f=(i("W1pW"),Object(r.a)(A,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"editPlan"},[e.stepIndex?i("div",{style:e.userSelectView,on:{drop:function(t){e.dropTools(t)},dragover:e.dropToolOver}},[i("div",{staticStyle:{position:"relative",height:"100%"},style:e.stepIndex?e.selectViewBoxStyle:{},on:{click:function(t){e.sendUserSelect(t)}}},e._l(e.userSelectComponents,function(t){return i("edit-shape",{key:t.uuid,style:"custom"===t.type?{width:"100%",height:"100%"}:e.getCommonStyle(t.defaultStyle,e.scope.baseWidth,e.scope.baseHeight),attrs:{uuid:t.uuid,defaultStyle:t.defaultStyle,showOnly:2===e.stepIndex||"custom"===t.type,active:e.setUserSelectItemState&&t.uuid===e.activeId,data:t},on:{handleElementClick:function(i){e.handleElementClick(t.uuid)},resize:e.handleElementResize,"reset-active":e.resetActive,"delete-active":e.deleteUserSelectComponents}},[i(t.elName,e._b({tag:"component",staticClass:"element-on-edit-pane",attrs:{id:t.uuid},on:{"value-bus":e.valueBus}},"component",{value:t.value,item:t,readonly:2===e.stepIndex},!1))],1)}),1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:(!e.userSelectItem||e.userSelectItem&&e.userSelectItem.i!=e.scope.i)&&2!=e.stepIndex,expression:"(!userSelectItem || (userSelectItem && userSelectItem.i != scope.i)) && stepIndex !=2"}],staticClass:"layoutCover",style:{"z-index":e.userSelectComponents.length+2},attrs:{"data-html2canvas-ignore":""},on:{click:function(t){e.sendUserSelect(t)}}})]):i("div",{attrs:{"data-html2canvas-ignore":""},domProps:{textContent:e._s(e.scope.txt)}})])},[],!1,null,"d851ab8e",null));f.options.__file="editPlan.vue";var y=f.exports,B={name:"component-libs",props:{layoutItem:{type:Object,default:function(){return null}}},data:function(){return{componentsList:[{title:"基础组件",components:[{elName:"QkInput",type:"input",title:"文字",icon:"txt",value:"",defaultStyle:{height:40,width:150}},{elName:"QkImage",type:"image",title:"图片",icon:"img",value:"",defaultStyle:{height:60,width:150}},{elName:"QkTextarea",type:"textarea",title:"多行文本",icon:"textarea",value:"",defaultStyle:{height:60,width:150}},{elName:"QkDate",title:"日期",type:"date",icon:"date",value:"",defaultStyle:{height:20,width:150}},{elName:"QkTime",title:"时间",type:"time",icon:"time",value:"",defaultStyle:{height:20,width:150}},{elName:"QkDatetime",title:"日期时间",type:"datetime",icon:"datetime",value:"",defaultStyle:{height:20,width:250}}]},{title:"业务组件",components:[{elName:"QkTable",type:"custom",title:"仓库任务列表",img:"data:image/png;base64,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",config:{apiObj:{apiName:"apiName",params:{id:""}},showIndex:!1,mixViewWidth:500,minViewHeight:500}}]}]}},methods:{dropTools:function(e,t){e.dataTransfer.setData("componentName",JSON.stringify(t))},stopClick:function(e){window.event?window.event.cancelBubble=!0:e.stopPropagation()}}},v=(i("IWb6"),Object(r.a)(B,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"components-libs-wrapper scrollbar-wrapper"},[i("p",{staticClass:"page-title text-center"},[e._v("组件库")]),e._v(" "),i("el-scrollbar",{staticStyle:{height:"100%"}},[i("ul",{staticClass:"scrollbar-wrapper"},e._l(e.componentsList,function(t,o){return i("li",{key:o,staticClass:"clearfix paddingB30"},[i("div",{staticClass:"components-libs-title"},[i("p",[e._v(e._s(t.title))])]),e._v(" "),t.components&&t.components.length?i("div",{staticClass:"clearfix"},e._l(t.components,function(t,o){return i("div",{key:o,staticClass:"components-lib-item",style:{width:t.img?"46.4%":"30%"},attrs:{draggable:"true"},on:{dragstart:function(i){e.dropTools(i,t)}}},[i("div",{staticClass:"lib-item-img"},[t.icon?i("svg-icon",{attrs:{"icon-class":"layout-"+t.icon,"class-name":"layoutSvgClass"}}):i("img",{staticStyle:{width:"100%",display:"block"},attrs:{src:t.img}})],1),e._v(" "),i("p",{staticClass:"lib-item-title"},[e._v(e._s(t.title))])])})):i("div",[i("p",{staticClass:"gray text-center paddingT20"},[e._v("待完善...")])])])}))]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.layoutItem,expression:"!layoutItem"}],staticClass:"layoutCover",on:{click:function(t){e.stopClick(t)}}},[e._m(0)])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}},[t("div",{staticClass:"layoutCoverTxt"},[this._v("请先选择布局区域")])])}],!1,null,null,null));v.options.__file="index.vue";var I=v.exports,E=i("k7+O"),S=i.n(E);function Q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var b={name:"visualization-preview",props:{visualizationConfig:{type:Object,default:function(){return null}},showModel:{type:String,default:""}},components:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},o=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),o.forEach(function(t){Q(e,t,i[t])})}return e}({GridLayout:s.GridLayout,GridItem:s.GridItem,editShape:g.a},d.a),data:function(){return{layoutBoxHeight:0,getCommonStyle:C.a.getCommonStyle,layoutBoxHeightTimer:"",opacityState:!0,viewMessageDisplay:!0,screenfullAddEventd:!1,screenfullState:!1,viewMouseTimer:"",viewMouseState:!0,viewWidths:[]}},directives:{"set-view-width":{inserted:function(e,t,i){i.context.$set(i.context.viewWidths,t.value.index,e.offsetWidth)}}},computed:{tempLayout:function(){return this.visualizationConfig?this.visualizationConfig.layout:[]},setRowHeight:function(){return this.layoutBoxHeight/24}},methods:{goHome:function(){this.$router.push({path:"/"})},setLayoutItemStyle:function(e){return{backgroundColor:e.backgroundColor}},viewMousemove:function(){var e=this;this.viewMouseState=!0,clearTimeout(this.viewMouseTimer),this.viewMouseTimer=setTimeout(function(t){e.viewMouseState=!1},5e3)},screenfullClick:function(){if(!S.a.enabled)return this.$message({message:"当前浏览器不支持此功能",type:"warning"}),!1;this.screenfullAddEventd||(this.screenfullAddEventd=!0,S.a.onchange(this.resetClientHeight)),S.a.toggle()},resetClientHeight:function(){var e=this;clearTimeout(this.layoutBoxHeightTimer),this.layoutBoxHeightTimer=setTimeout(function(t){e.layoutBoxHeight=e.$el.clientHeight,e.screenfullState=S.a.isFullscreen})},closeKanban:function(){this.$emit("closeview")},scalingRatio:function(e,t){return e&&t?Math.round(this.$el.querySelector("#".concat(t)).offsetWidth/e):1}},watch:{screenfullState:function(){var e=this;this.screenfullState?(clearTimeout(this.viewMouseTimer),this.$el.addEventListener("mousemove",this.viewMousemove,!0),this.viewMouseTimer=setTimeout(function(t){e.viewMouseState=!1},5e3)):(clearTimeout(this.viewMouseTimer),this.$el.removeEventListener("mousemove",this.viewMousemove,!0),this.viewMouseState=!0)}},mounted:function(){var e=this;this.layoutBoxHeight=this.$el.clientHeight,this.$nextTick(function(t){e.opacityState=!1})},beforeDestroy:function(){clearTimeout(this.layoutBoxHeightTimer),this.screenfullAddEventd&&S.a.off("change",this.resetClientHeight),clearTimeout(this.viewMouseTimer)}},w=(i("uKFN"),Object(r.a)(b,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"visualizationPreview",style:{cursor:e.viewMouseState?"default":"none"}},[e.visualizationConfig?i("div",{staticClass:"visualizationPreviewView"},[i("grid-layout",{attrs:{layout:e.tempLayout,"col-num":24,"row-height":e.setRowHeight,"max-rows":24,"vertical-compact":!0,margin:[0,0],"use-css-transforms":!0},on:{"update:layout":function(t){e.tempLayout=t}}},e._l(e.tempLayout,function(t,o){return i("grid-item",{key:t.i,style:e.setLayoutItemStyle(t),attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,"is-resizable":!1,"is-draggable":!1}},[i("div",{directives:[{name:"set-view-width",rawName:"v-set-view-width",value:{index:o},expression:"{index}"}],staticStyle:{position:"relative",height:"100%"},style:{padding:(t.padding||0)+"px"}},[i("div",{staticStyle:{position:"relative",height:"100%"},style:{backgroundColor:t.childBackgroundColor}},e._l(t.userComponents||[],function(n){return i("edit-shape",{key:n.uuid,style:e.getCommonStyle(n.defaultStyle,t.baseWidth,t.baseHeight,e.viewWidths[o]),attrs:{uuid:n.uuid,showOnly:!0,defaultStyle:n.defaultStyle,active:!1,data:n}},[i(n.elName,e._b({tag:"component",staticClass:"element-on-edit-pane",attrs:{id:n.uuid}},"component",{value:n.value,item:n,readonly:!0},!1))],1)}),1)])])}),1),e._v(" "),e.viewMessageDisplay?[i("div",{staticClass:"viewMessage",style:{opacity:e.opacityState?1:0},on:{transitionend:function(t){e.viewMessageDisplay=!e.viewMessageDisplay}}},[e._v("\n        按esc可关闭看板\n      ")])]:[i("div",{staticClass:"screenfullBtn"},[i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.viewMouseState,expression:"viewMouseState"}],attrs:{content:e.screenfullState?"退出全屏":"全屏显示",placement:"left",effect:"light"}},[i("svg-icon",{attrs:{"icon-class":e.screenfullState?"shrink":"open","class-name":"screenfull-svg"},on:{click:e.screenfullClick}})],1),e._v(" "),i("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:!e.screenfullState,expression:"!screenfullState"}],attrs:{content:"关闭看板",placement:"left",effect:"light"}},[i("svg-icon",{staticStyle:{"margin-left":"5px"},attrs:{"icon-class":"close","class-name":"screenfull-svg"},on:{click:e.closeKanban}})],1)],1)]],2):i("div",{staticStyle:{height:"100%","text-align":"center","padding-top":"200px","font-size":"30px"}},[i("div",[e._v("没有可用的配置")]),e._v(" "),i("div",[i("el-button",{on:{click:e.goHome}},[e._v("返回首页")])],1)])])},[],!1,null,"254fa836",null));w.options.__file="index.vue";var x=w.exports,k={name:"visualization-root",components:{GridLayout:s.GridLayout,GridItem:s.GridItem,defaultLayout:u,editPlan:y,functionComponent:I,visualizationTemplate:x},data:function(){return{userInfo:{},activeNames:"1",headerHeight:0,rootHeight:0,customLayout:[],defaultLayoutList:[],userSelectLayout:null,titleList:["第一步：定义基本布局","第二步：设置功能组件","第三步：预览看板效果"],stepIndex:0,screen:null,layoutBoxScale:1,layoutBoxHeight:0,layoutRegister:null,layoutChanged:null,userSelectLayoutItem:null,menuOptions:[{title:"删除",icon:"delete",scene:["input","textarea","date","time","datetime","image","business"]},{title:"字体放大",icon:"txtup",scene:["input","textarea","date","time","datetime"]},{title:"字体缩小",icon:"txtdown",scene:["input","textarea","date","time","datetime"]},{title:"字体加粗",icon:"txtbold",scene:["input","textarea","date","time","datetime"]},{title:"字体颜色",icon:"txtcolor",scene:["input","textarea","date","time","datetime"],isColor:!0,value:""},{title:"背景色",icon:"bgcolor",scene:["root","business"],isColor:!0,value:""},{title:"上传图片",icon:"upload",isUpload:!0,scene:["image"]},{title:"图层上移",icon:"layerup",scene:["input","textarea","date","time","datetime","image"]},{title:"图层下移",icon:"layerdown",scene:["input","textarea","date","time","datetime","image"]},{title:"块边距",icon:"padding",isStep:!0,scene:["root","business"]},{title:"左右居中",icon:"level",scene:["input","textarea","date","time","datetime"]},{title:"垂直居中",icon:"vertical",scene:[]}],layoutBGcolor:null,userTargetComponent:null,themeColor:!0,themeColorList:["rgb(255,255,255)","rgb(10, 24, 40)"],isSaved:!1,dialogVisible:!1,previewLayoutTimer:"",saveLayoutTimer:"",needPreview:!1,needSave:!1,saveLoading:!1,saveLoadingTxt:""}},computed:{tempLayout:function(){return this.userSelectLayout&&this.userSelectLayout.layout||[]},screenScale:function(){return this.screen?this.screen.width/this.screen.height:1},layoutViewHeight:function(){return.8*this.layoutBoxHeight},layoutViewWidth:function(){return this.layoutViewHeight*this.screenScale},setRowHeight:function(){return this.layoutViewHeight/24},tempLayoutState:function(){return!1},setMenuOptions:function(){var e=this;return this.menuOptions.filter(function(t){return t.scene.includes(e.userTargetComponent?e.userTargetComponent.type:e.userSelectLayoutItem?"root":"")})},userSelectLayoutIndex:function(){var e=this;return this.userSelectLayoutItem?this.tempLayout.findIndex(function(t){return t.i===e.userSelectLayoutItem.i}):-1},setDefaultStep:{get:function(){return this.userTargetComponent?this.userTargetComponent.defaultStyle.paddingTop||0:this.userSelectLayoutItem&&this.userSelectLayoutItem.padding||0},set:function(e){this.userTargetComponent?(this.userTargetComponent.defaultStyle.paddingTop=e,this.userTargetComponent.defaultStyle.paddingLeft=e,this.userTargetComponent.defaultStyle.paddingRight=e,this.userTargetComponent.defaultStyle.paddingBottom=e):this.userSelectLayoutItem&&(this.userSelectLayoutItem.padding=e)}},setDefaultColor:{get:function(){return this.userTargetComponent?this.userTargetComponent.defaultStyle.color||"":this.userSelectLayoutItem&&this.userSelectLayoutItem.childBackgroundColor||""},set:function(e){this.userTargetComponent?this.userTargetComponent.defaultStyle.color=e:this.userSelectLayoutItem&&(this.userSelectLayoutItem.childBackgroundColor=e)}},setThemeColor:function(){return this.themeColor?this.themeColorList[1]:this.themeColorList[0]}},created:function(){this.screen=window.screen,this.userInfo=this.$storage.get("userInfo"),this.httpRequests()},mounted:function(){var e=this,t=this.$el.querySelectorAll(".el-collapse-item__header"),i=this.$el.querySelector("#layoutBox");this.rootHeight=this.$el.querySelector("#visualizationPlanHeight").clientHeight,[].forEach.call(t,function(t){e.headerHeight+=t.clientHeight}),this.layoutBoxScale=i.clientWidth/i.clientHeight,this.screenScale,this.layoutBoxScale,this.layoutBoxHeight=i.clientHeight,this.layoutBoxWidth=i.clientWidth,console.log(this.layoutViewWidth,this.layoutBoxHeight)},beforeDestroy:function(){this.isSaved||this.$storage.set("visualizationConfig",this.userSelectLayout)},methods:{httpRequests:function(){var e=this;"0"===this.userInfo.userId&&setTimeout(function(t){e.defaultLayoutList=o;var i=o.map(function(e){return{layout:e.layout,name:e.name}});console.log(i),console.log(JSON.stringify(i))},1e3)},movedEvent:function(e,t,i){console.log("MOVED i="+e+", X="+t+", Y="+i)},dropLayout:function(e){this.stepIndex||(this.layoutRegister=this.layoutChanged=e.dataTransfer.getData("layout"),this.userSelectLayout=JSON.parse(this.layoutRegister)||null)},dropLayoutOver:function(){},nextStep:function(){this.tempLayout.length?this.stepIndex++:this.$message.error("请先选择布局")},upStep:function(){var e=this;1===this.stepIndex?this.$confirm("退回上一步将清除本次的所有设置，请确认！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.resetLayoutSet(),e.stepIndex--}):(2===this.stepIndex&&(this.themeColor=!0),this.stepIndex--)},clearTempLayout:function(){this.userSelectLayout=null},resetTempLayout:function(){this.userSelectLayout=JSON.parse(this.layoutRegister)||null},setLayoutItemStyle:function(e,t){switch(e.componentName){case"header":e.backgroundColor=t?this.setThemeColor:"#b3c0d1";break;case"main":e.backgroundColor=t?this.setThemeColor:"#e9eef3";break;case"leftAside":e.backgroundColor=t?this.setThemeColor:"#d3dce6";break;case"rightAside":e.backgroundColor=t?this.setThemeColor:"#B3C0DF";break;case"footer":e.backgroundColor=t?this.setThemeColor:"#b3c0d1";break;default:e.backgroundColor=t?this.setThemeColor:"#b3c5d1"}return{backgroundColor:e.backgroundColor}},resizedEvent:function(e,t){var i=(JSON.parse(this.layoutChanged).layout||[]).find(function(e){return e.i===t.i});if(t.w!=i.w&&this.userSelectLayout.layout.forEach(function(e){e.i!==t.i&&e.x===i.w&&(e.x=t.w)}),t.h>i.h){var o=this.numToList(24);this.userSelectLayout.layout.forEach(function(e){if(e.i!==t.i&&(e.x===t.x||e.x<t.x&&e.x+e.w>t.x||e.x-t.x>0&&e.x-t.x<t.w))for(var i=0;i<e.h;i++)o.splice(e.y+i,1,null)}),o.length>24&&(this.userSelectLayout.layout.forEach(function(e){e.i===t.i&&(e.h-=o.length-24)}),this.userSelectLayout=JSON.parse(JSON.stringify(this.userSelectLayout)))}this.layoutChanged=JSON.stringify(this.userSelectLayout)},numToList:function(e){for(var t=[],i=0;i<e;i++)t.push(i);return t},resetLayoutStore:function(){this.userSelectLayout=null,this.layoutRegister=null,this.layoutChanged=null},resetLayoutSet:function(){this.userSelectLayoutItem=null,(this.$refs.editPlan||[]).forEach(function(e){e.resetSelectComponetns&&e.resetSelectComponetns()})},userSelectLayoutItemHandler:function(e){this.userSelectLayoutItem=e},handleElementCommand:function(e){switch(e.icon){case"delete":this.$refs.editPlan[this.userSelectLayoutIndex].deleteUserSelectComponents(this.userTargetComponent.uuid);break;case"txtup":this.userTargetComponent.defaultStyle.fontSize+=1;break;case"txtdown":this.userTargetComponent.defaultStyle.fontSize>12&&(this.userTargetComponent.defaultStyle.fontSize-=1);break;case"txtbold":this.userTargetComponent.defaultStyle.fontWeight>=900?this.userTargetComponent.defaultStyle.fontWeight=300:this.userTargetComponent.defaultStyle.fontWeight+=100;break;case"txtcolor":case"bgcolor":case"upload":break;case"layerup":this.userTargetComponent.defaultStyle.zIndex+=1;break;case"layerdown":this.userTargetComponent.defaultStyle.zIndex-=1;break;case"padding":break;case"level":this.userTargetComponent.defaultStyle.textAlign="center"===this.userTargetComponent.defaultStyle.textAlign?"left":"center"}},changeColor:function(e){this.userTargetComponent?this.userTargetComponent.defaultStyle.color=e:this.userSelectLayoutItem&&(this.userSelectLayoutItem.childBackgroundColor=e)},userSelectComponent:function(e){this.userTargetComponent=e[0]||null},userComponents:function(e){var t=this;this.userSelectLayout.layout.find(function(t){if(t.i===e.layoutId)return t.userComponents=JSON.parse(JSON.stringify(e.components)),!0}),this.needPreview&&(clearTimeout(this.previewLayoutTimer),this.previewLayoutTimer=setTimeout(function(e){t.needPreview=!1,t.dialogVisible=!0})),this.needSave&&(clearTimeout(this.saveLayoutTimer),this.saveLayoutTimer=setTimeout(function(e){t.needSave=!1,t.httpSaveLayout()}))},previewLayout:function(){this.needPreview=!0,this.needSave=!1,(this.$refs.editPlan||[]).forEach(function(e){e.getSelectComponents&&e.getSelectComponents()})},saveLayout:function(){this.needSave=!0,this.needPreview=!1,(this.$refs.editPlan||[]).forEach(function(e){e.getSelectComponents&&e.getSelectComponents()})},httpSaveLayout:function(){var e=this;console.log(this.userSelectLayout,this.layoutViewHeight,this.layoutViewWidth),console.log(JSON.stringify(this.userSelectLayout.layout)),this.saveLoadingTxt="生成缩略图...",this.saveLoading=!0,setTimeout(function(t){e.layoutViewThumbnail()},1e3)},layoutViewThumbnail:function(){var e=this,t="",i=this.$el.querySelector("#layoutView");i&&a()(i,{width:i.offsetWidth,height:i.offsetHeight,scale:.5}).then(function(i){t=i.toDataURL(),e.saveLoadingTxt="保存设置...",console.log(t),setTimeout(function(t){e.saveLoading=!1},1e4)}).catch(function(e){console.log(e)})},stepHandleChange:function(e,t){this.userTargetComponent?(this.userTargetComponent.defaultStyle.paddingTop=e,this.userTargetComponent.defaultStyle.paddingLeft=e,this.userTargetComponent.defaultStyle.paddingRight=e,this.userTargetComponent.defaultStyle.paddingBottom=e):this.userSelectLayoutItem&&(console.log(this.userSelectLayoutItem),this.userSelectLayoutItem.padding=e)},stopStepClick:function(e){e.stopPropagation(),e.preventDefault()},closeview:function(){this.dialogVisible=!1}},watch:{activeNames:function(){this.resetLayoutStore()},setThemeColor:function(){(this.$refs.editPlan||[]).forEach(function(e){e.changeComponentColor&&e.changeComponentColor()})}}},K=(i("0wyt"),Object(r.a)(k,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.saveLoading,expression:"saveLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"visualization",attrs:{"element-loading-text":e.saveLoadingTxt,"element-loading-spinner":"none","element-loading-background":"rgba(255,255,255,0.6)"}},[i("el-row",{staticStyle:{height:"100%"}},[i("el-col",{staticStyle:{height:"100%"},attrs:{span:18}},["1"===e.activeNames?i("div",{staticStyle:{height:"100%"},on:{drop:function(t){return t.preventDefault(),e.dropLayout(t)},dragover:function(t){return t.preventDefault(),e.dropLayoutOver(t)}}},[i("div",{staticClass:"customLayoutHeader"},[i("div",{staticClass:"headerView leftArrow"},[i("base-button",{attrs:{icon:"arrowright",name:"上一步",type:"primary",plain:"",state:!e.stepIndex},on:{myclick:e.upStep}})],1),e._v(" "),i("div",{staticClass:"headerView headerTxt"},[i("div",{staticClass:"clearfix titleBox",style:{left:"-"+100*e.stepIndex+"%"}},[e._l(e.titleList,function(t,o){return[i("div",{key:o,staticClass:"titleView",style:{opacity:o===e.stepIndex?"1":"0",width:100/e.titleList.length+"%"},domProps:{textContent:e._s(t)}})]})],2)]),e._v(" "),i("div",{staticClass:"headerView rightArrow"},[i("base-button",{directives:[{name:"show",rawName:"v-show",value:2!=e.stepIndex,expression:"stepIndex!=2"}],attrs:{icon:"arrowleft",name:"下一步",iconRight:!0,type:"primary",plain:""},on:{myclick:e.nextStep}}),e._v(" "),i("base-button",{directives:[{name:"show",rawName:"v-show",value:2==e.stepIndex,expression:"stepIndex==2"}],attrs:{icon:"",name:"保存",type:"primary",plain:""},on:{myclick:e.saveLayout}})],1)]),e._v(" "),i("div",{attrs:{id:"layoutBox"}},[i("div",{style:{width:e.layoutViewWidth+"px",height:e.layoutViewHeight+"px"},attrs:{id:"layoutView"}},[e.tempLayout.length?[i("grid-layout",{attrs:{layout:e.tempLayout,"col-num":24,"row-height":e.setRowHeight,"max-rows":24,"vertical-compact":!0,margin:[0,0],"use-css-transforms":!1},on:{"update:layout":function(t){e.tempLayout=t}}},e._l(e.tempLayout,function(t){return i("grid-item",{key:t.i,staticStyle:{"text-align":"center","line-height":"200%"},style:e.setLayoutItemStyle(t,e.stepIndex),attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i,"is-resizable":!e.stepIndex,"is-draggable":!1},on:{resized:function(i){e.resizedEvent(arguments,t)}}},[i("edit-plan",{ref:"editPlan",refInFor:!0,attrs:{stepIndex:e.stepIndex,scope:t,"user-select-item":e.userSelectLayoutItem},on:{"user-select":e.userSelectLayoutItemHandler,"send-component":e.userSelectComponent,"user-components":e.userComponents}})],1)}),1)]:[i("div",{staticStyle:{height:"100%","text-align":"center","font-size":"20px","font-weight":"bold"},style:{"line-height":e.layoutViewHeight+"px"},attrs:{"data-html2canvas-ignore":""}},[e._v("\n                请将右侧内置布局中的布局方式拖动到此处\n              ")])]],2),e._v(" "),i("div",{style:{width:e.layoutViewWidth+"px",height:.18*e.layoutBoxHeight+"px"},attrs:{id:"layoutViewBtns"}},[i("div",{attrs:{id:"layoutViewBtnsStyle"}},[e.stepIndex?1==e.stepIndex?[i("div",{staticClass:"page-wrapper-menu-operation clearfix"},e._l(e.setMenuOptions,function(t,o){return i("el-tooltip",{key:o,attrs:{effect:t.isColor||t.isUpload||t.isStep?"light":"dark",placement:"top"}},[t.isUpload?i("div",{attrs:{slot:"content"},slot:"content"},[i("div",{domProps:{textContent:e._s(t.title)}}),e._v(" "),i("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/",multiple:"",limit:1,"file-list":[]}},[i("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("点击上传")])],1)],1):t.isStep?i("div",{staticStyle:{"text-align":"center"},attrs:{slot:"content"},slot:"content"},[i("div",{domProps:{textContent:e._s(t.title)}}),e._v(" "),i("div",{staticStyle:{display:"inline-block"},on:{click:function(t){e.stopStepClick(t)}}},[i("el-input-number",{attrs:{size:"mini",step:2,"step-strictly":"",min:0,max:50,label:"块边距"},on:{change:e.stepHandleChange},model:{value:e.setDefaultStep,callback:function(t){e.setDefaultStep=t},expression:"setDefaultStep"}})],1)]):t.isColor?i("div",{staticStyle:{"text-align":"center"},attrs:{slot:"content"},slot:"content"},[i("div",{domProps:{textContent:e._s(t.title)}}),e._v(" "),i("el-color-picker",{attrs:{"show-alpha":"",size:"mini"},on:{change:e.changeColor},model:{value:e.setDefaultColor,callback:function(t){e.setDefaultColor=t},expression:"setDefaultColor"}})],1):i("div",{attrs:{slot:"content"},domProps:{textContent:e._s(t.title)},slot:"content"}),e._v(" "),i("div",{staticClass:"menu-item menu-item-on-edit-panel",style:{padding:t.icon?"8px 12px":"2px 2px 0 2px"},on:{click:function(i){e.handleElementCommand(t)}}},[i("svg-icon",{attrs:{"icon-class":"layout-"+t.icon}})],1)])}),1),e._v(" "),i("div",[i("div",{staticStyle:{display:"inline-block"}},[i("span",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[e._v("主题：")]),e._v(" "),i("el-switch",{class:{resetSwitchStyle:!e.themeColor},staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{"active-color":e.themeColorList[1],"inactive-color":e.themeColorList[0],"active-text":"黑","inactive-text":"白"},model:{value:e.themeColor,callback:function(t){e.themeColor=t},expression:"themeColor"}})],1),e._v(" "),i("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-refresh",disabled:!e.userSelectLayoutItem},on:{click:e.resetLayoutSet}},[e._v("清除所有设置\n                  ")])],1)]:[i("div"),e._v(" "),i("div",[i("div",{staticStyle:{display:"inline-block"}},[i("span",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[e._v("主题：")]),e._v(" "),i("el-switch",{class:{resetSwitchStyle:!e.themeColor},staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{"active-color":e.themeColorList[1],"inactive-color":e.themeColorList[0],"active-text":"黑","inactive-text":"白"},model:{value:e.themeColor,callback:function(t){e.themeColor=t},expression:"themeColor"}})],1),e._v(" "),i("el-button",{attrs:{plain:"",type:"primary"},on:{click:e.previewLayout}},[e._v("预 览\n                  ")])],1)]:[i("div",{staticStyle:{"font-size":"18px",padding:"10px 0"}},[i("span",[e._v("当前布局：")]),e._v(" "),i("span",{staticStyle:{color:"#74bcff","font-weight":"600"},domProps:{textContent:e._s(e.userSelectLayout&&e.userSelectLayout.title||"未选择")}})]),e._v(" "),i("div",[i("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-refresh",disabled:!e.tempLayout.length||e.tempLayoutState},on:{click:e.resetTempLayout}},[e._v("还原布局\n                  ")]),e._v(" "),i("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-delete",disabled:!e.tempLayout.length},on:{click:e.clearTempLayout}},[e._v("清空布局\n                  ")])],1)]],2)])])]):i("div",{staticStyle:{height:"100%"}},[e._v("自定义布局")])]),e._v(" "),i("el-col",{attrs:{span:6,id:"visualizationPlanHeight"}},[i("div",{staticClass:"layoutPlan",style:{left:0===e.stepIndex?0:"120%","z-index":0===e.stepIndex?20:10}},[i("el-collapse",{staticStyle:{height:"100%"},attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[i("el-collapse-item",{style:{backgroundColor:"1"===e.activeNames?"rgb(232,244,255)":"#fff"},attrs:{title:"内置布局",name:"1"}},[i("div",{staticClass:"defaultLayoutView",style:{height:e.rootHeight-e.headerHeight+"px"}},[e._l(e.defaultLayoutList,function(t,o){return[i("el-card",{key:o,staticClass:"layoutItemView"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("div",{staticStyle:{"text-align":"center"},domProps:{textContent:e._s(t.title)}})]),e._v(" "),i("default-layout",{attrs:{config:t}})],1)]})],2)]),e._v(" "),i("el-collapse-item",{style:{backgroundColor:"2"===e.activeNames?"rgb(232,244,255)":"#fff"},attrs:{title:"编辑布局",name:"2"}},[i("div",{style:{height:e.rootHeight-e.headerHeight+"px"}})])],1)],1),e._v(" "),i("div",{staticClass:"layoutPlan",style:{left:1===e.stepIndex?0:"120%","z-index":1===e.stepIndex?20:10}},[i("function-component",{attrs:{layoutItem:e.userSelectLayoutItem}})],1)])],1),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogVisible,fullscreen:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible?i("visualizationTemplate",{tag:"component",attrs:{visualizationConfig:e.userSelectLayout},on:{closeview:e.closeview}}):e._e()],1)],1)},[],!1,null,null,null));K.options.__file="index.vue";var L={name:"custom-kanban",components:{visualization:K.exports}},T=(i("Mcpu"),Object(r.a)(L,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"customKanban"},[t("visualization")],1)},[],!1,null,"a1aad90c",null));T.options.__file="index.vue";t.default=T.exports},IWb6:function(e,t,i){"use strict";var o=i("V5zP");i.n(o).a},Mcpu:function(e,t,i){"use strict";var o=i("ZUY2");i.n(o).a},V5zP:function(e,t,i){},W1pW:function(e,t,i){"use strict";var o=i("siaV");i.n(o).a},ZUY2:function(e,t,i){},npXw:function(e,t,i){},siaV:function(e,t,i){},uKFN:function(e,t,i){"use strict";var o=i("npXw");i.n(o).a}}]);